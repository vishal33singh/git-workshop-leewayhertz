(window["webpackJsonptest-react-app"]=window["webpackJsonptest-react-app"]||[]).push([[5],{1437:function(e,t,a){"use strict";a.r(t);var r=a(64),n=a(4),s=a.n(n),i=a(63),o=a(7),l=a(30),c=a(31),u=a(48),d=a(50),m=a(0),p=a.n(m),f=a(72),b=a(49),g=a(735);var E=function(e){var t=e.state,a=e.onChangeEvent,r=e.onLoginClicked,n=e.handleRememberMe,s=e.reSendVerificationMail,o=Object(m.useState)(!1),l=Object(i.a)(o,2),c=l[0],u=l[1],d=Object(m.useState)(!1),f=Object(i.a)(d,2),E=f[0],h=f[1],w=Object(m.useState)(!0),v=Object(i.a)(w,2),S=v[0],x=v[1],k=Object(m.useState)("grid place-items-center bg-darkGrey-50 mt-12.5 py-6 text-ft4  text-white w-full rounded-full font-OpenSansSemiBold"),O=Object(i.a)(k,2),j=O[0],y=O[1],R=Object(m.useState)(!1),C=Object(i.a)(R,2),M=C[0],N=C[1],D=Object(m.useState)("password"),A=Object(i.a)(D,2),L=A[0],B=A[1];return Object(m.useEffect)((function(){t.email?u(!0):u(!1)}),[t.email]),Object(m.useEffect)((function(){t.password?h(!0):h(!1)}),[t.password]),Object(m.useEffect)((function(){(null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)?(y("bg-blue-50 mt-12.5 py-6 text-ft4  text-white w-full rounded-full font-OpenSansSemiBold"),x(!1)):(y("bg-darkGrey-50 mt-12.5 py-6 text-ft4  text-white w-full rounded-full font-OpenSansSemiBold"),x(!0))}),[(null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)]),p.a.createElement("div",{className:" bg-Slate-200 pt-28 h-screen "},p.a.createElement("div",{className:"w-125  bg-white text-center  m-auto rounded-lg px-5  pb-12.5"},p.a.createElement("img",{src:"/images/img-logo.png",alt:"",className:"mx-auto pt-12.5 "}),p.a.createElement("h1",{className:"text-ft7 font-OpenSansSemiBold pt-7.5"},"Login with nft ticketing"),p.a.createElement(g.a,{title:"Resend Verification Mail",handleClose:function(){return s()},message:"Your email is not verified",open:t.modal}),p.a.createElement("div",{className:"bg-Slate-50 w-full mt-10 rounded-lg flex justify-between"},p.a.createElement("input",{type:"email",value:t&&t.email,placeholder:"Email Address",className:" py-5 pl-5 text-ft4 w-full rounded-lg  bg-Slate-50 placeholder-darkGrey-100 text-black-50 font-OpenSansRegular focus:outline-none",onChange:function(e){return a("email",e.target.value)},error:t?t.emailError:""}),p.a.createElement("img",{alt:"",src:"/images/ic-clear.svg",className:"pr-5 ".concat(!c&&"hidden"),onClick:function(){a("email","")}})),p.a.createElement("div",{style:{color:"red"}},null===t||void 0===t?void 0:t.emailError),p.a.createElement("div",{className:"bg-Slate-50 w-full mt-4 rounded-lg flex justify-between items-center"},p.a.createElement("input",{type:L,value:t&&t.password,placeholder:"Password",className:"bg-Slate-50 w-full rounded-lg py-5 text-ft4  pl-5 placeholder-darkGrey-100  text-black-50 font-OpenSansRegular focus:outline-none",onChange:function(e){return a("password",e.target.value)},error:t?t.passwordError:""}),p.a.createElement("img",{alt:"",src:M?"/images/ic-preview.svg":"/images/ic-preview-1@2x.png",className:"pr-5 ".concat(!E&&"hidden "," w-11.25 h-6.5 "),onClick:function(){"password"===L&&(B("text"),N(!0)),"text"===L&&(B("password"),N(!1))}})),p.a.createElement("div",{style:{color:"red"}},null===t||void 0===t?void 0:t.passwordError),p.a.createElement("div",{className:"flex justify-between flex-row pt-7.5"},p.a.createElement("div",{className:" flex"},p.a.createElement("input",{type:"checkbox",className:"w-5 h-5 ",value:t.rememberMe,onChange:function(e){return n(e.target.checked)}}),p.a.createElement("p",{className:"font-OpenSansRegular text-ft4 text-darkGrey-100 pl-2.5"},"Remember me")),p.a.createElement("p",{className:"font-OpenSansRegular text-ft4 text-darkGrey-100 "},p.a.createElement(b.b,{to:"/forget-password"},"Forgot password?"))),t.passwordError?p.a.createElement("div",{className:"error"},t.passwordError?p.a.createElement("br",null):""):p.a.createElement("div",{className:"errorBox"},t.passwordError?p.a.createElement("br",null):""),p.a.createElement("button",{type:"submit",onClick:function(e){return r(e)},disabled:S,className:j},t.isLoading?p.a.createElement("div",{className:"loader "}):"Sign in")))},h=a(46),w=a(39),v=a(1),S=a(664),x=a(8),k=a(47),O=a(65),j=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).validateLoginForm=function(){return n.state.email.length?n.setState({emailError:h.a.validateEmail(n.state.email)?"":"Please enter the valid email address"}):n.setState({emailError:"Please enter the email address"}),n.state.password.length?n.setState({passwordError:h.a.isPasswordValid(n.state.password)?"":"Please enter the valid password"}):n.setState({passwordError:"Please enter your password"}),h.a.validateEmail(n.state.email)&&h.a.isPasswordValid(n.state.password)},n.reSendVerificationMail=Object(o.a)(s.a.mark((function e(){var t,a,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.parseResponse(Object(O.j)({email:n.state.email}));case 2:if(t=e.sent,a=Object(i.a)(t,2),r=a[0],o=a[1],!r){e.next=8;break}return e.abrupt("return");case 8:if(!r&&o){e.next=10;break}return e.abrupt("return");case 10:n.setState({modal:!1});case 11:case"end":return e.stop()}}),e)}))),n.checkVerificatioStatus=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,r,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.dispatchAction(v.l.SHOW_LOADER,!0),e.next=3,h.a.parseResponse(Object(O.c)({email:t}));case 3:if(a=e.sent,r=Object(i.a)(a,2),o=r[0],l=r[1],!o){e.next=9;break}return e.abrupt("return");case 9:if(n.props.dispatchAction(v.l.HIDE_LOADER,!0),!o&&l){e.next=12;break}return e.abrupt("return",!0);case 12:return n.setState({modal:!l.verified}),e.abrupt("return",l.verified);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e,t){n.setState(Object(r.a)({},e,t)),n.state.passwordError&&n.setState({passwordError:""}),n.state.emailError&&n.setState({emailError:""})},n.handleRememberMe=function(e){e?x.a.setDataInCookies(e,v.l.REMEMBER_ME):x.a.setDataInCookies("",v.l.REMEMBER_ME),n.setState({rememberMe:e})},n.onLoginClicked=function(){var e=Object(o.a)(s.a.mark((function e(t){var a,r,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.validateLoginForm()){e.next=3;break}return e.abrupt("return");case 3:return n.setState({isLoading:!0}),e.next=6,n.checkVerificatioStatus(n.state.email,n.state.password);case 6:if(e.sent){e.next=9;break}return e.abrupt("return");case 9:return n.authObject=new S.a,e.next=12,h.a.parseResponse(n.authObject.signin(n.state.email,n.state.password));case 12:if(a=e.sent,r=Object(i.a)(a,2),o=r[0],(l=r[1])&&!o){e.next=20;break}return n.setState({isLoading:!1}),n.setState({emailError:"User doesn't exist"}),e.abrupt("return");case 20:if(!l){e.next=24;break}return n.props.dispatchAction(v.l.LOGIN_SUCCESS,l),n.setState({isLoading:!1}),e.abrupt("return",w.a.push(v.g.DASHBOARD));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={forgotEmail:"",forgotEmailError:"",email:"",emailError:"",password:"",passwordError:"",isPasswordVisible:!1,modal:!1,isLoading:!1,rememberMe:!!x.a.getDataFromCookies(v.l.REMEMBER_ME)},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(x.a.getDataFromCookies(v.l.REMEMBER_ME)){var e=x.a.getDataFromCookies(v.l.USER_DETAILS),t=x.a.getDataFromCookies(v.l.USER_DETAILS);if(!e||!t)return void x.a.removeAllData();e=JSON.parse(e),this.props.dispatchAction(v.l.LOGIN_SUCCESS,{userDetails:e,accessToken:t}),w.a.push(v.g.DASHBOARD)}}},{key:"render",value:function(){return p.a.createElement(E,{state:this.state,reSendVerificationMail:this.reSendVerificationMail,onChangeEvent:this.handleChange,onLoginClicked:this.onLoginClicked,handleRememberMe:this.handleRememberMe})}}]),a}(f.a);t.default=Object(k.b)((function(e){return{user:e.user}}),{dispatchAction:h.b})(j)},664:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a(4),n=a.n(r),s=a(12),i=a(7),o=a(30),l=a(31),c=a(795),u=a(39),d=a(73),m=a(65),p=function(){function e(){Object(o.a)(this,e),this.auth0=new c.a.WebAuth({domain:"https://nft-ticekting-dev.us.auth0.com",clientID:"WuRa325EuzmACga4KMuOyjaTbzeNwhMm",audience:"https://nft-ticekting-dev.us.auth0.com/api/v2/",redirectUri:"window.location.origin",scope:"openid profile email",responseType:"code token id_token",grantType:"password"})}return Object(l.a)(e,[{key:"signin",value:function(e,t){var a=this,r=this;return new Promise((function(o,l){a.auth0.client.login({realm:"Username-Password-Authentication",username:e,password:t},(function(e,t){if(e)return l(e);r.auth0.client.userInfo(t.accessToken,function(){var e=Object(i.a)(n.a.mark((function e(a,r){var i,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return",l(a));case 2:return i=r.sub.split("auth0|")[1],e.prev=3,e.next=6,Object(m.i)(i);case 6:if(c=e.sent){e.next=9;break}throw"User not found";case 9:o({accessToken:t.idToken,userDetails:new d.a(Object(s.a)(Object(s.a)({},c),{},{image:c.image?c.image:r.picture}))}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),l(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,a){return e.apply(this,arguments)}}())}))}))}},{key:"logout",value:function(){u.a.push("/")}}]),e}()},735:function(e,t,a){"use strict";var r=a(0),n=a.n(r);t.a=function(e){var t=e.title,a=e.handleClose,r=e.message;return e.open?n.a.createElement("div",{class:"fixed inset-0  bg-darkGrey-100 bg-opacity-70 flex justify-center pt-48"},n.a.createElement("div",{className:" absolute z-10 flex flex-col justify-center w-125 bg-white rounded-lg -mx-5 pt-1"},n.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft7 text-black-50 pt-12.5"},t),n.a.createElement("p",{className:"pt-5 font-OpenSansRegular text-ft4 text-darkGrey-100 px-16.75"},r),n.a.createElement("button",{className:" bg-blue-50 mt-7.5 py-6 text-ft4 text-white rounded-full font-OpenSansSemiBold mx-12.5 mb-12.5",onClick:function(){return a()}},"Proceed"))):""}}}]);
//# sourceMappingURL=5.703d01e9.chunk.js.map