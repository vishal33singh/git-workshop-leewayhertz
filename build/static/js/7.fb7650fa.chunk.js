(window["webpackJsonptest-react-app"]=window["webpackJsonptest-react-app"]||[]).push([[7],{1433:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(1),l=a(641),c=a(63),i=a(4),o=a.n(i),u=a(64),d=a(7),m=a(30),p=a(31),f=a(48),b=a(50),v=a(72),g=a(1435),h=a(1427),E=a(1087),x=a(544),N=a.n(x);function w(e){var t=e.title,a=e.value,n=e.image,s=e.color,l=e.eventDetail;return r.a.createElement("div",{className:"bg-white min-w-72.5 w-full h-40 rounded-lg py-11.25 px-5 "},r.a.createElement("div",{className:"flex gap-7.5"},r.a.createElement("div",{className:"rounded-full bg-blue-50 w-17.5 h-17.5 flex"},n?r.a.createElement("img",{className:"margin-auto",src:n,alt:n||"card"}):""),"Tx Hash"===t?r.a.createElement("div",null,r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"mr-2 text-black-50"},"Tx Hash :"),r.a.createElement("a",{href:"Baobab"===l.network?"https://baobab.klaytnfinder.io/tx/".concat(l.transactionHash):"https://www.klaytnfinder.io/tx/".concat(l.transactionHash),target:"_blank",className:"w-30 truncate text-blue-50"},l.transactionHash?l.transactionHash:"N/A")),r.a.createElement("div",{className:"flex mt-3"},r.a.createElement("p",{className:"mr-2 text-black-50"},"Contract Address :"),r.a.createElement("a",{href:"Baobab"===l.network?"https://baobab.klaytnfinder.io/account/".concat(l.contractAddress):"https://www.klaytnfinder.io/account/".concat(l.contractAddress),target:"_blank",className:"w-30 truncate text-blue-50"},l.contractAddress?l.contractAddress:"N/A"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"text-ft6 text-black-50 font-OpenSansRegular"},t),r.a.createElement("p",{className:"mt-1 text-ft9  font-OpenSansSemiBold ".concat(s||"text-black-50"," ")},a)))))}function y(e){var t=e.handleChange,a=e.title,s=e.options,l=e.updationKey,i=e.value,o=(e.top,Object(n.useRef)()),u=Object(n.useState)(!1),d=Object(c.a)(u,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){var e=function(e){m&&o.current&&!o.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[m]),r.a.createElement("div",{onClick:function(){return p(!m)},ref:o,className:" bg-white ml-2 h-11.25 w-42.75 px-5 py-3.25 text-ft3 font-OpenSansRegular text-black-50 flex   flex-row justify-between rounded-md cursor-pointer"},i||a,m?r.a.createElement("img",{alt:"",className:"w-3 cursor-pointer transform rotate-180",src:"/images/down-arrow.svg"}):r.a.createElement("img",{alt:"",className:"w-3 cursor-pointer ",src:"/images/down-arrow.svg"}),m&&r.a.createElement("div",{className:"border bg-white  border-grey-200 w-42.5 h-26.9  absolute top-37.25 -ml-5 mt-3.5 rounded-md "},s.map((function(e,a){return r.a.createElement("div",{key:a,className:" h-14 flex items-center pl-6   font-OpenSansRegular text-ft3 text-left text-black-50 cursor-pointer hover:bg-blue-50 hover:text-white w-full border-b border-Slate-350 rounded-sm ",onClick:function(){return t(l,e.value,e.name)}},e.name)}))))}var O=function(e){var t=e.classes,a=e.title,n=e.handleSorting,s=e.required,l=e.sortByNameHandler;return r.a.createElement("th",{onClick:l,className:"flex ".concat(t," whitespace-nowrap\t")},a,s?"":r.a.createElement("img",{onClick:function(){n&&n()},alt:"sort",className:"ml-3 inline cursor-pointer",src:"/images/ic-eventsPage-sort.png"}))};function k(e){var t=e.salesByEvents,a=e.totalSalesByEvents,s=e.getSalesByEvent,l=e.state,i=e.sortByName,u=function(){var e=Object(d.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=document.getElementById("infiniteScroll")).offsetHeight+n.scrollTop===n.scrollHeight&&t.length<a&&s(!0,l.skip+l.limit);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=Object(n.useState)(!1),p=Object(c.a)(m,2),f=p[0],b=p[1],v=Object(n.useState)(r.a.createElement(N.a,{color:"#395FF1"})),g=Object(c.a)(v,2),h=g[0],E=g[1];return Object(n.useEffect)((function(){setTimeout((function(){E("No Record Found")}),5e3)}),[]),r.a.createElement("div",{className:"3xl:w-1/2 w-auto"},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-black-50 text-ft6 "},"Events by Date"),r.a.createElement("div",{className:" h-100.25 bg-white rounded-lg mt-10  overflow-auto  ",id:"infiniteScroll",onScroll:u},r.a.createElement("table",{className:"table min-w-full "},r.a.createElement("thead",{className:"border-b border-Slate-200"},r.a.createElement("tr",{className:"flex "},r.a.createElement(O,{handleSorting:function(){return function(){if(f){var e=t.sort((function(e,t){return t.name.toLowerCase()>e.name.toLowerCase()?1:-1}));return i(e),void b(!1)}var a=t.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}));i(a),b(!0)}()},title:"Event Name",classes:" w-1/3 py-5 px-5 font-OpenSansSemiBold text-ft3 text-black-50 "}),r.a.createElement(O,{title:"Ticket sold / On Offer",classes:" w-1/3 py-5 px-5 font-OpenSansSemiBold text-ft3 text-black-50  "}),r.a.createElement(O,{title:"Revenue ",classes:" w-1/3 py-5 px-5 font-OpenSansSemiBold text-ft3 text-black-50 "}))),r.a.createElement("tbody",{className:" items-center"},t&&t.length>0?t.map((function(e,t){return r.a.createElement("tr",{className:"border-b border-Slate-200 flex",key:t},r.a.createElement("td",{className:" w-1/3 py-5 px-5 text-ft3 font-OpenSansSemiBold text-black-50 truncate"},e.name),r.a.createElement("td",{className:" w-1/3 py-5 px-5 text-ft3 font-OpenSansRegular text-black-50"},"".concat(e.soldTickets,"/").concat(e.totalTickets)),r.a.createElement("td",{className:" w-1/3 py-5 px-5 text-ft3 font-OpenSansRegular text-black-50"},e.revenue))})):r.a.createElement("div",{className:"noRecordFound mt-32"},"",h)))))}function S(e){var t=e.chartData,a=["#80CEB9","#41AAC4","#395FF1","#BDB69C","#717D8C"],n=function(e){var t=e.cx,a=e.cy,n=e.midAngle,s=e.innerRadius,l=e.outerRadius,c=e.percent,i=(e.index,Math.PI/180),o=s+.2*(l-s),u=t+o*Math.cos(-n*i),d=a+o*Math.sin(-n*i);return r.a.createElement("text",{x:u,y:d,fill:"white",textAnchor:u>t?"start":"end",dominantBaseline:"central"},"".concat((100*c).toFixed(0),"%"))};return r.a.createElement(g.a,{width:320,height:320},t.map((function(e,s){return r.a.createElement(h.a,{key:s,startAngle:-90,endAngle:270,cx:"50%",cy:"50%",outerRadius:110,innerRadius:75,dataKey:"section",data:t,labelLine:!1,fill:e.color,label:n},t.map((function(e,t){return r.a.createElement(E.a,{key:"cell-".concat(t),fill:a[t%"".concat(a).length]})})))})))}var T=function(e){var t=e.handleChange,a=e.state,l=e.getSalesByEvent,i=e.sortByName,o=["#80CEB9","#41AAC4","#395FF1","#BDB69C","#717D8C"],u=Object(n.useState)(r.a.createElement(N.a,{color:"#395FF1"})),d=Object(c.a)(u,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){setTimeout((function(){p("No Record Found")}),5e3)}),[]),r.a.createElement("div",{className:"bg-Slate-200 p-12.5 min-h-screen"},r.a.createElement("div",{className:"flex text-ft8 font-OpenSansSemiBold text-left text-black-50 justify-between items-center"},"Dashboard",r.a.createElement("div",{className:"flex 3xl:gap-3.75 ml-auto justify-between"},r.a.createElement(y,{updationKey:"type",title:"All Locations",handleChange:t,options:s.e,value:a.typeTitle,top:"top-41"}),r.a.createElement(y,{updationKey:"status",title:"All Events",handleChange:t,options:s.j,value:s.d[a.status],top:"top-41"}),r.a.createElement(y,{updationKey:"startTime",title:"All Time",handleChange:t,options:s.k,value:a.timeTitle,top:"top-41"}))),r.a.createElement("div",{className:"mt-12 flex gap-7 justify-between "},r.a.createElement(w,{title:"Total Realized Revenue / Potential",image:"/images/ic-dashboard-revenue.png",value:a.revenue?"$".concat(a.revenue," / $").concat(a.realizedRevenue):0,color:"text-blue-50",sx:{width:"25%"}}),r.a.createElement(w,{title:"Total Ticket sold / On Offer",image:"/images/ic-dashboard-ticketSold.png",value:"".concat(a.ticketSold," / ").concat(a.totalTicket)})),r.a.createElement("div",{className:" flex 3xl:flex-row flex-col mt-12.5 justify-between gap-7"},r.a.createElement("div",{className:" 3xl:w-1/2 w-auto"},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-black-50 text-ft6"},"Total Earning Breakdown"),r.a.createElement("div",{className:" h-100.25 bg-white rounded-lg mt-10 py-10 flex justify-center pr-19.75 items-center"},a&&a.legends.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{chartData:a.chartData}),r.a.createElement("div",{className:"ml-10 my-auto "},a.legends.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:t,className:"flex items-center mb-2.5 w-full"},r.a.createElement("div",{style:{backgroundColor:o[t]||"#000"},className:"rounded-full w-2.5 h-2.5 mr-1"}),r.a.createElement("h1",{className:"text-ft3 text-darkGrey-50 font-OpenSansRegular"},e.name)),r.a.createElement("h1",{className:"text-ft4 text-black-50 font-OpenSansSemiBold mb-5"},"$".concat(e.amount.toFixed(2))))})))):r.a.createElement("div",{className:"noRecordFound"},m))),r.a.createElement(k,{salesByEvents:a.salesByEvents,getSalesByEvent:l,totalSalesByEvents:a.totalSalesByEvents,state:a,sortByName:i})))},j=a(47),D=a(46),C=a(14),A=a(1090),P=a.n(A);function I(){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(o.a.mark((function e(){var t,a,n,r,l,c,i,u,d,m,p=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:"",a=p.length>1&&void 0!==p[1]?p[1]:"",n=p.length>2&&void 0!==p[2]?p[2]:0,r=p.length>3&&void 0!==p[3]?p[3]:0,l=p.length>4?p[4]:void 0,c=p.length>5?p[5]:void 0,i=p.length>6?p[6]:void 0,u=p.length>7&&void 0!==p[7]?p[7]:"",d=p.length>8?p[8]:void 0,m="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+s.n.API_END_POINT.EVENTS+"?isAdmin=true&searchQuery=".concat(t,"&sortingKey=").concat(u,"&creatorId=").concat(d),isNaN(Number(l))||(m="".concat(m,"&skip=").concat(l,"&limit=").concat(c)),i&&(m="".concat(m,"&status=").concat(i)),a&&(m="".concat(m,"&type=").concat(a)),n&&r&&(m="".concat(m,"&startTime=").concat(n,"&endTime=").concat(r)),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},{},m).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return _.apply(this,arguments)}function _(){return(_=Object(d.a)(o.a.mark((function e(t){var a,n,r,l,c,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:0,r=i.length>3&&void 0!==i[3]?i[3]:0,l=i.length>4&&void 0!==i[4]?i[4]:"",c="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3001"+s.n.API_END_POINT.BUYERS+"/".concat(t,"?searchQuery=").concat(a,"&sortingKey=").concat(l,"&skip=").concat(n,"&limit=").concat(r),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},{},c).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return F.apply(this,arguments)}function F(){return(F=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+s.n.API_END_POINT.GET_TICKET_ANALYTICS,e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.POST,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},t,a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+"".concat(s.n.API_END_POINT.EVENT_REVENUE_DATA,"/").concat(t),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},{},a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return z.apply(this,arguments)}function z(){return(z=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+"".concat(s.n.API_END_POINT.CONTRIBUTORS_REVENUE_DATA,"/").concat(t),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},{},a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+"".concat(s.n.API_END_POINT.GET_SALES_BY_TICKET_TYPE,"/").concat(t),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},{},a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3001"+"".concat(s.n.API_END_POINT.ORDERS,"/").concat(t),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},{},a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+"".concat(s.n.API_END_POINT.EVENTS,"/").concat(t),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},{},a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return q.apply(this,arguments)}function q(){return(q=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+s.n.API_END_POINT.GET_SALES_BY_CONTIBUTORS_ANALYTICS,e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.POST,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},t,a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+s.n.API_END_POINT.BLOCK_USER,e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.POST,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},t,a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+s.n.API_END_POINT.GET_SALES_BY_EVENTS,e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.POST,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},t,a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+s.n.API_END_POINT.EVENTS,e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.POST,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},t,a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+s.n.API_END_POINT.UPDATE_EVENT,e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.PUT,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},t,a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return le.apply(this,arguments)}function le(){return(le=Object(d.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+s.n.API_END_POINT.UPLOAD_EVENT_IMAGE,e.next=3,P.a.post(n,t).then((function(e){e.data.success&&200===e.data.responseCode&&e.data.responseData&&0!==e.data.responseData.length||(a=e.data),a=e.data})).catch((function(e){return Promise.reject(e)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(d.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+s.n.API_END_POINT.UPLOAD_TO_IPFS,e.next=3,P.a.post(n,t).then((function(e){e.data.success&&200===e.data.responseCode&&e.data.responseData&&0!==e.data.responseData.length||(a=e.data),a=e.data})).catch((function(e){return Promise.reject(e)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+"".concat(s.n.API_END_POINT.DELETE_EVENT,"/").concat(t),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.DELETE,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},{},a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return me.apply(this,arguments)}function me(){return(me=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+s.n.API_END_POINT.CATEGORIES,e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},{},t).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+"".concat(s.n.API_END_POINT.GET_TICKET_TYPES,"/").concat(t),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},{},a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3001"+"".concat(s.n.API_END_POINT.GET_BUYER_WALLET_ADDRESS,"/").concat(t),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},{},a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t){return he.apply(this,arguments)}function he(){return(he=Object(d.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3000"+"".concat(s.n.API_END_POINT.UPDATE_TICKET,"/").concat(a),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.PUT,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},t,n).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3001"+s.n.API_END_POINT.GIFTS,e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.POST,{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON},t,a).then((function(e){return e.success&&200===e.responseCode&&e.responseData&&0!==e.responseData.length?Promise.resolve(e.responseData):Promise.reject()})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne=a(39),we=function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleChange=function(){var e=Object(d.a)(o.a.mark((function e(t,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(u.a)({},t,a));case 2:if("status"===t&&(n.setState({skip:0}),n.getAnalyticsData()),"type"===t&&(n.setState({typeTitle:r,skip:0}),n.getAnalyticsData()),"startTime"!==t){e.next=8;break}return e.next=7,n.setState({endTime:Date.now(),timeTitle:r,skip:0});case 7:n.getAnalyticsData();case 8:if("sortingKey"!==t){e.next=11;break}return e.next=11,n.getSalesByEvent();case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.getAnalyticsData=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getTicketAnalytics();case 2:return e.next=4,n.getContibutorsAmount();case 4:return e.next=6,n.getSalesByEvent();case 6:case"end":return e.stop()}}),e)}))),n.getTicketAnalytics=Object(d.a)(o.a.mark((function e(){var t,a,r,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),n.props.dispatchAction(s.l.SHOW_LOADER,!0),t={creator:n.props.user.userDetails.role===s.h.ORGANISER?n.props.user.userDetails.userId:n.props.user.userDetails.organization.id,endTime:n.state.endTime,startTime:n.state.startTime,status:n.state.status,type:n.state.type},e.next=5,D.a.parseResponse(L(t));case 5:if(a=e.sent,r=Object(c.a)(a,2),l=r[0],i=r[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),!l&&i){e.next=12;break}return e.abrupt("return");case 12:n.setState({ticketSold:i.ticketSold,attendees:i.attendees?i.attendees:0,revenue:i.revenue,realizedRevenue:i.realizedRevenue,totalTicket:i.totalTicket,loading:!1});case 13:case"end":return e.stop()}}),e)}))),n.getContibutorsAmount=Object(d.a)(o.a.mark((function e(){var t,a,r,l,i,u,d,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),n.props.dispatchAction(s.l.SHOW_LOADER,!0),t={creator:n.props.user.userDetails.role===s.h.ORGANISER?n.props.user.userDetails.userId:n.props.user.userDetails.organization.id,endTime:n.state.endTime,startTime:n.state.startTime,status:n.state.status,type:n.state.type},e.next=5,D.a.parseResponse(J(t));case 5:if(a=e.sent,r=Object(c.a)(a,2),l=r[0],i=r[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),!l&&i&&i.data&&i.data.length){e.next=13;break}return n.setState({chartData:[],legends:[],loading:!1}),e.abrupt("return");case 13:u=[],d=[],(m=i.data).sort((function(e,t){var a=e.contributor,n=t.contributor;return a<n?-1:a>n?1:0})),m.map((function(e){d.push({name:e.contributor,amount:e.amount,loading:!1});var t=e.amount/i.amount*100;return u.push({section:t}),e})),n.setState({chartData:u,legends:d,loading:!1});case 18:case"end":return e.stop()}}),e)}))),n.getSalesByEvent=Object(d.a)(o.a.mark((function e(){var t,a,r,i,u,d,m,p=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]&&p[0],a=p.length>1&&void 0!==p[1]?p[1]:0,n.setState({loading:!0}),n.props.dispatchAction(s.l.SHOW_LOADER,!0),r={creator:n.props.user.userDetails.role===s.h.ORGANISER?n.props.user.userDetails.userId:n.props.user.userDetails.organization.id,endTime:n.state.endTime,startTime:n.state.startTime,status:n.state.status,type:n.state.type,skip:0,limit:0,sortingKey:n.state.sortingKey},e.next=7,D.a.parseResponse(X(r));case 7:if(i=e.sent,u=Object(c.a)(i,2),d=u[0],m=u[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),a&&n.setState({skip:a,loading:!1}),!d&&m&&m.data){e.next=16;break}return n.setState({salesByEvents:[],totalSalesByEvents:0,loading:!1}),e.abrupt("return");case 16:n.setState({salesByEvents:t?[].concat(Object(l.a)(n.state.salesByEvents),Object(l.a)(m.data)):m.data,totalSalesByEvents:m.total,loading:!1});case 17:case"end":return e.stop()}}),e)}))),n.sortByName=function(e){n.setState({salesByEvents:e})},n.state={startTime:0,endTime:0,status:"",type:"",typeTitle:"",timeTitle:"",revenue:0,realizedRevenue:0,attendees:0,ticketSold:0,totalTicket:0,chartData:[],legends:[],salesByEvents:[],totalSalesByEvents:0,limit:10,skip:0,sortingKey:"",loading:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getAnalyticsData()}},{key:"render",value:function(){var e;return D.a.checkPermission(s.a.DASHBOARD,null===(e=this.props.user)||void 0===e?void 0:e.userDetails)||Ne.a.replace(s.g.USER_MANAGEMENT),r.a.createElement(T,{handleChange:this.handleChange,state:this.state,getSalesByEvent:this.getSalesByEvent,sortByName:this.sortByName})}}]),a}(v.a),ye=Object(j.b)((function(e){return{user:e.user}}),{dispatchAction:D.b})(we),Oe=a(168),ke=a(76);var Se=function(e){var t=e.numberOfPages,a=(e.total,e.currentPage),s=e.getListByPage,i=(e.numberOfItems,Object(n.useState)([])),o=Object(c.a)(i,2),u=o[0],d=o[1],m=Object(n.useState)([]),p=Object(c.a)(m,2),f=(p[0],p[1]),b=Object(n.useState)(3),v=Object(c.a)(b,2),g=v[0],h=v[1],E=Object(n.useState)(!1),x=Object(c.a)(E,2);x[0],x[1],Object(n.useEffect)((function(){for(var e=[],a=[],n=!0,r=0;r<t;r++)e.push(r+1),n&&a.push(r+1),(r+1)%3||(n=!1);f(e),d(a)}),[t]);var N="w-7.5 flex items-center px-2 py-2 w-3 cursor-pointer border border-Slate-350  text-sm font-medium text-Slate-350  ",w=function(e){var a=Object(l.a)(u);t>3&&(e&&g+1<=t&&(a.shift(),a.push(g+1),h(g+1),d(a)),!e&&g>3&&(a.pop(),a.unshift(a[0]-1),h(g-1),d(a)))};return r.a.createElement("div",{className:"flex items-center justify-between mt-10"},r.a.createElement("div",{className:"flex items-center gap-5 "}),r.a.createElement("div",{className:"flex rounded-md shadow-sm -space-x-px h-9.5 "},r.a.createElement("div",{className:"w-7.5 flex items-center px-2 py-2  rounded-l-md border border-Slate-350 bg-white text-sm font-medium text-Slate-350 hover:bg-gray-50",onClick:function(){return w(!1)}},r.a.createElement("img",{className:" pl-1 transform cursor-pointer ",alt:"",src:"/images/ic-eventsPage-backwardArrow.png"})),u.map((function(e,t){return r.a.createElement("div",{onClick:function(){return s(e-1)},key:t,className:e===a?N+" bg-grey-50 text-black":N+" bg-white"},e)})),!!u.length%3&&!u.includes(t)?r.a.createElement("div",{className:"w-7.5 flex items-center px-2 py-2  cursor-pointer border border-Slate-350  bg-white text-sm font-medium text-Slate-350  hover:bg-gray-50",onClick:function(){w(!0),s(u[2])}},"..."):"",r.a.createElement("div",{className:" flex items-center px-2 py-2 w-7.5 rounded-r-md border border-Slate-350  bg-white text-sm font-medium text-Slate-350  hover:bg-gray-50",onClick:function(){return w(!0)}},r.a.createElement("img",{className:"pl-0.5 transform cursor-pointer ",alt:"",src:"/images/ic-eventsPage-forwardArrow.png"}))))};function Te(e){var t=e.onSubmit,a=e.handleChange,n=e.value;return r.a.createElement("div",{className:" h-11.25 flex justify-between rounded-3xl px-5 items-center w-75 bg-white border border-grey-200"},r.a.createElement("form",{onSubmit:t},r.a.createElement("input",{type:"text",className:" focus:outline-none w-57.75",placeholder:"Search",value:n,onChange:function(e){return a("searchQuery",e.target.value)}})),r.a.createElement("img",{onClick:t,alt:"",src:"/images/ic-search.svg",className:" h-4 w-4 cursor-pointer"}))}var je=a(51),De=a.n(je);function Ce(e){var t,a,l,i,o,u,d,m=e.item,p=e.deleteEvent,f=e.setDistributeEventDetails,b=Object(n.useRef)(),v=Object(n.useState)(!1),g=Object(c.a)(v,2),h=g[0],E=g[1];return Object(n.useEffect)((function(){var e=function(e){h&&b.current&&!b.current.contains(e.target)&&E(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[h]),r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:" h-19.75 w-full pl-7.5  pr-12.5 py-1 flex justify-between items-center border-b border-grey-50 font-OpenSansRegular text-left text-ft3 text-black-50 "},r.a.createElement("td",{className:"w-5per break-all\t"},r.a.createElement("img",{alt:"break",src:null===m||void 0===m?void 0:m.image,className:"object-cover h-16 w-16 rounded-md"})),r.a.createElement("td",{className:"3xl:w-30per w-15  break-all truncate\t"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-ft3 text-black-50 break-all truncate"}," ",(null===m||void 0===m||null===(t=m.name)||void 0===t?void 0:t.length)>30?"".concat(null===m||void 0===m||null===(a=m.name)||void 0===a?void 0:a.slice(0,30),"..."):null===m||void 0===m?void 0:m.name),r.a.createElement("div",{className:"text-ft2 mt-1.25 text-darkGrey-100 break-all truncate"},(null===m||void 0===m||null===(l=m.venueLocation)||void 0===l||null===(i=l.venue)||void 0===i?void 0:i.length)>30?"".concat(null===m||void 0===m||null===(o=m.venueLocation)||void 0===o||null===(u=o.venue)||void 0===u?void 0:u.slice(0,30),"..."):null===m||void 0===m||null===(d=m.venueLocation)||void 0===d?void 0:d.venue),r.a.createElement("div",{className:"text-ft1 mt-1.25 text-darkGrey-100 break-all truncate"},"".concat(De()(null===m||void 0===m?void 0:m.startTime).format("dddd, MMMM DD, YYYY")," at ").concat(De()(null===m||void 0===m?void 0:m.startTime).format("HH:mm A")," ").concat(null===m||void 0===m?void 0:m.eventTimezone)))),r.a.createElement("td",{className:"w-10per break-all\t"},"".concat(null===m||void 0===m?void 0:m.ticketSold,"/").concat(null===m||void 0===m?void 0:m.totalTicket)),r.a.createElement("td",{className:"w-10per break-all\t"},null===m||void 0===m?void 0:m.revenue),r.a.createElement("td",{className:"w-10per break-all\t"},null===m||void 0===m?void 0:m.status),r.a.createElement("td",{className:"w-10per break-all\t"},r.a.createElement("button",{disabled:"Current"!==(null===m||void 0===m?void 0:m.status),className:"flex items-center 3xl:pl-6 px-3.5 3xl:h-12.5 h-10 3xl:w-37.5 w-28 font-OpenSansSemiBold 3xl:text-ft3 text-ft1 text-white rounded-full ".concat("Current"!==(null===m||void 0===m?void 0:m.status)?"bg-Slate-350":"bg-blue-50"),onClick:function(){f(m.eventId,m.contractAbi,m.contractAddress,m.ownerWalletAddress,m.network,m.creator.email)}},"Distribute NFT")),r.a.createElement("td",{className:"relative",ref:b,onClick:function(){return E(!h)}},r.a.createElement("img",{alt:"",src:"/images/ic-action.svg",className:"cursor-pointer pr-8 ml-2.75"}),h&&r.a.createElement("div",{className:"absolute bottom-8 right-0 w-53.75 h-auto py-2.5 bg-white shadow-xl  "},r.a.createElement("div",{className:" h-12.5 flex items-center pl-6 font-OpenSansRegular text-ft4 text-left text-darkGrey-100 hover:bg-Slate-100",onClick:function(){return Ne.a.push("".concat(s.g.EVENTS,"/").concat(m.eventId))}},"View"),(null===m||void 0===m?void 0:m.ticketSold)<=0?r.a.createElement("div",{className:" h-12.5 flex items-center pl-6 font-OpenSansRegular text-ft4 text-left text-darkGrey-100 hover:bg-Slate-100",onClick:function(){p(m.eventId)}},"Delete"):null))))}var Ae=function(e){var t,a,l,i=e.state,o=e.handleChange,u=e.getListByPage,d=e.searchEvent,m=e.deleteEvent,p=e.setDistributeEventDetails,f=e.sortByName,b=Object(n.useState)(!1),v=Object(c.a)(b,2),g=v[0],h=v[1],E=function(){if(g){var e=i.events.sort((function(e,t){return t.name.toLowerCase()>e.name.toLowerCase()?1:-1}));return f(e),void h(!1)}var t=i.events.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}));f(t),h(!0)},x=Object(n.useState)(r.a.createElement(N.a,{className:"ring-blue-50"})),w=Object(c.a)(x,2),y=(w[0],w[1]);return Object(n.useEffect)((function(){setTimeout((function(){y("No Record Found")}),5e3)}),[]),r.a.createElement("div",{className:"bg-Slate-200 p-12.5 flex flex-col min-h-screen"},r.a.createElement("div",{className:"text-ft8 font-OpenSansSemiBold text-left text-black-50"},"Events",r.a.createElement("div",{className:""},r.a.createElement("ul",{className:"flex flex-wrap -mb-px text-ft4 text-left border-b-3 border-grey-50 w-100.25 space-x-10",role:"tablist"},r.a.createElement("li",{className:"inline-block text-left mt-7.5 -mb-1 pb-6.25   w-25 ".concat(i.status===s.i.PUBLISHED?"border-b-3   text-blue-50 border-transparent border-blue-50":"text-darkGrey-100")},r.a.createElement("button",{onClick:function(){o("status",s.i.PUBLISHED),o("searchQuery","")}},"Current")),r.a.createElement("li",{className:"inline-block text-left mt-7.5 -mb-1 pb-6.25 pl-3  w-30 ".concat(i.status===s.i.UPCOMING?"border-b-3   text-blue-50 border-transparent border-blue-50":"text-darkGrey-100")},r.a.createElement("button",{onClick:function(){o("status",s.i.UPCOMING),o("searchQuery","")}},"Upcoming")),r.a.createElement("li",{className:"inline-block text-left -mb-1 mt-7.5 pb-6.25 pl-4 w-25 ".concat(i.status===s.i.PAST?"border-b-3   text-blue-50 border-transparent border-blue-50":"text-darkGrey-100")},r.a.createElement("button",{onClick:function(){o("status",s.i.PAST),o("searchQuery","")}},"Previous"))))),r.a.createElement("div",{className:"flex justify-between items-center w-full mt-12.5"},r.a.createElement(Te,{value:i.searchQuery,onSubmit:d,handleChange:o}),r.a.createElement("button",{onClick:function(){var e,t;(null===(e=window.caver)||void 0===e||null===(t=e.currentProvider)||void 0===t?void 0:t.selectedAddress)?Ne.a.push(s.g.CREATE_EVENT):D.a.apiFailureToast("Please Connect to Kaikas Wallet")},className:"flex items-center h-12.5 w-37.5 font-OpenSansSemiBold text-ft3 text-white bg-blue-50 rounded-full "}," ",r.a.createElement("img",{alt:"create",src:"/images/ic-create.svg",className:" pr-2.5  pl-5.2 "})," ","Create Event")),r.a.createElement("div",{className:"rounded-xl bg-white drop-shadow-md pb-3.75 pt-3.75 mt-7.5 w-full items-center"},r.a.createElement("table",{className:"w-full h-87.5"},r.a.createElement("tbody",{className:" rounded-xl bg-white drop-shadow-md  w-full "},r.a.createElement("tr",{className:"h-19.75 w-full pl-7.5 pr-12.5 flex justify-between items-center border-b border-grey-50  text-left font-OpenSansSemiBold text-ft3 text-black-50  "},r.a.createElement(O,{title:"Image",classes:"w-5per whitespace-nowrap\t"}),r.a.createElement(O,{handleSorting:E,title:"Event",classes:"3xl:w-30per w-auto whitespace-nowrap\t"}),r.a.createElement(O,{handleSorting:E,title:"Ticket Sold / On Offer",classes:"w-10per whitespace-nowrap"}),r.a.createElement(O,{title:"Revenue",handleSorting:E,classes:"w-10per whitespace-nowrap\t"}),r.a.createElement(O,{title:"Status",classes:"w-10per whitespace-nowrap\t"}),r.a.createElement(O,{title:"NFT",classes:"w-10per whitespace-nowrap\t"}),r.a.createElement(O,{required:!0,title:"Action",classes:"whitespace-nowrap\t"})),i.loading?r.a.createElement("div",{className:"noRecordFound"},r.a.createElement(N.a,{color:"#395FF1"})):0==i.loading&&0===(null===i||void 0===i||null===(t=i.events)||void 0===t?void 0:t.length)?r.a.createElement("p",{className:"noRecordFound"},"No data found"):0==i.loading&&(null===i||void 0===i||null===(a=i.events)||void 0===a?void 0:a.map((function(e,t){return r.a.createElement(Ce,{key:t,item:e,deleteEvent:m,setDistributeEventDetails:p})})))))),r.a.createElement("div",{style:{display:0===i.events.length?"none":""},className:""},r.a.createElement(Se,{numberOfPages:Math.ceil(i.total/i.limit),currentPage:i.total?Math.round(i.total/i.limit)-Math.round((i.total-i.skip)/i.limit)+1:0,total:i.total,getListByPage:u,numberOfItems:null===i||void 0===i||null===(l=i.events)||void 0===l?void 0:l.length})," "))},Pe=function(){function e(t){if(Object(m.a)(this,e),this.creator={name:"",email:"",image:""},this.image="",this.venueLocation={country:"",state:"",city:"",venue:""},this.name="",this.location="",this.addedOn=0,this.status="",this.category="",this.ticketSold=0,this.revenue=0,this.totalTicket=0,this.startTime=0,this.eventTimezone="",this.contractAbi="",this.contractAddress="",this.ownerWalletAddress="",this.network="",t)return this.setData(t)}return Object(p.a)(e,[{key:"setData",value:function(e){this.eventId=e._id?e._id:"",this.image=e.image?e.image:"",this.creator=e.creator?e.creator:this.creator,this.venueLocation=e.venueLocation?e.venueLocation:this.venueLocation,this.name=e.name?e.name:"",this.location=e.location?s.d[e.location]:"",this.addedOn=e.addedOn?e.addedOn:"",this.status=e.status?s.d[e.status]:"",this.category=e.category?e.category:"",this.ticketSold=e.ticketSold?e.ticketSold:0,this.totalTicket=e.totalTicket?e.totalTicket:0,this.revenue=e.revenue?"$".concat(e.revenue):0,this.eventTimezone=e.eventTimezone?e.eventTimezone:"",this.startTime=e.startTime||0,this.contractAbi=e.contractAbi?e.contractAbi:"",this.contractAddress=e.contractAddress?e.contractAddress:"",this.ownerWalletAddress=e.ownerWalletAddress?e.ownerWalletAddress:"",this.network=e.network?e.network:""}}]),e}(),Ie=a(125);var Re=function(e){var t=e.isLoading,a=e.open,s=e.tickets,l=e.distributeGifts,i=e.closeSelectTicketPopup,o=Object(n.useState)(0),u=Object(c.a)(o,2),d=u[0],m=u[1],p=Object(n.useState)(!1),f=Object(c.a)(p,2),b=f[0];return f[1],console.log(d),r.a.createElement(r.a.Fragment,null,a?r.a.createElement("div",{className:"fixed inset-0 z-0  bg-darkGrey-100 bg-opacity-70 flex justify-center pt-59.75"},r.a.createElement("div",{className:"z-20 flex flex-col justify-center h-72.25 w-125 bg-white rounded-lg -mx-5 px-12"},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft7 text-center text-black-50"},t?"Distributing NFT for ".concat(s[d].name):"Distribute NFT"),t?r.a.createElement("div",{className:"flex justify-center mt-8"},r.a.createElement(Ie.a,null)):r.a.createElement(r.a.Fragment,null,s.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"pt-5 font-OpenSansRegular text-ft4 text-darkGrey-100 text-left mt-4"},"Select ticket type"),r.a.createElement("div",{className:"w-100"},r.a.createElement("select",{id:"category",className:"w-full relative overflow-hidden styled-select-gift rounded-lg border border-grey-400  focus:outline-none  mt-4 pl-2.5 pr-6.25 py-3.25 font-OpenSansRegular text-ft3 ".concat(b?"select-active":"select-inactive"),onChange:function(e){return m(parseInt(e.target.value))},value:d},s.map((function(e,t){return r.a.createElement("option",{className:"styled-option-gift",key:t,value:t},e.name)})))),r.a.createElement("div",{className:"flex justify-end mt-8"},r.a.createElement("button",{className:"w-30 py-3 font-OpenSansSemiBold text-ft3 rounded-full bg-white border border-darkGrey-50 text-black-50 mr-2",onClick:function(){i()}},"Cancel"),r.a.createElement("button",{className:"w-30 py-3 font-OpenSansSemiBold text-ft3 text-white rounded-full bg-blue-50",onClick:function(){l(s[d])}},"Distribute"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft6 text-center text-darkGrey-100 mt-8"},"NFT for all the tickets for this event have been distributed"),r.a.createElement("div",{className:"flex justify-center mt-8"},r.a.createElement("button",{className:"w-30 bg-blue-50 rounded-full py-3 mr-2 text-white font-OpenSansSemiBold text-ft3 ",onClick:function(){i()}},"Close")))))):null)},Be=function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).getListByPage=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({skip:t*n.state.limit}),e.next=3,n.getEvents(n.state.status,t*n.state.limit);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(){var e=Object(d.a)(o.a.mark((function e(t,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(u.a)({},t,a));case 2:if("status"!==t){e.next=5;break}return e.next=5,n.getEvents(a,n.state.skip);case 5:if("sortingKey"!==t){e.next=8;break}return e.next=8,n.getEvents(n.state.status,n.state.skip);case 8:if("type"!==t){e.next=12;break}return n.setState({typeTitle:r}),e.next=12,n.getEvents(n.state.status,n.state.skip);case 12:if("startTime"!==t){e.next=16;break}return n.setState({endTime:Date.now(),timeTitle:r}),e.next=16,n.getEvents(n.state.status,n.state.skip);case 16:"searchQuery"===t&&(n.setState({searchQuery:a}),n.getEvents(n.state.status,n.state.skip));case 17:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.getEvents=function(){var e=Object(d.a)(o.a.mark((function e(t,a){var r,l,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),n.props.dispatchAction(s.l.SHOW_LOADER,!0),e.next=4,D.a.parseResponse(I(n.state.searchQuery,n.state.type,n.state.startTime,n.state.endTime,a,n.state.limit,t,n.state.sortingKey,n.props.user.userDetails.role===s.h.ORGANISER?n.props.user.userDetails.userId:n.props.user.userDetails.organization.id));case 4:if(r=e.sent,l=Object(c.a)(r,2),i=l[0],u=l[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),!i&&u&&u.data&&u.data.length){e.next=12;break}return n.setState({events:[],total:0,skip:0,loading:!1}),e.abrupt("return");case 12:n.setState({events:u.data.map((function(e){return new Pe(e)})),total:u.total,loading:!1,isLoading:!1});case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.searchEvent=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.getEvents(n.state.status,n.state.skip);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteEvent=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.parseResponse(oe(t));case 2:if(a=e.sent,r=Object(c.a)(a,2),r[0],!r[1]){e.next=12;break}return D.a.apiSuccessToast("Event deleted successfully"),e.next=10,n.getEvents(n.state.status,n.state.skip);case 10:e.next=13;break;case 12:D.a.apiFailureToast("Could not delete the Event");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.checkWalletConnection=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(t=window.caver)||void 0===t||null===(a=t.currentProvider)||void 0===a?void 0:a.selectedAddress)){e.next=4;break}return e.abrupt("return",!0);case 4:return D.a.apiFailureToast("Please Connect to Kaikas Wallet"),e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)}))),n.setDistributeEventDetails=function(){var e=Object(d.a)(o.a.mark((function e(t,a,r,s,l,i){var u,d,m,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={eventId:t,abi:a,contractAddress:r,ownerWalletAddress:s,contractNetwork:l,creatorEmail:i},e.next=3,n.setState({distributeGiftEvent:u});case 3:return e.next=5,D.a.parseResponse(pe(t));case 5:if(d=e.sent,m=Object(c.a)(d,2),m[0],!(p=m[1])){e.next=14;break}return e.next=12,n.setState({tickets:p.data.filter((function(e){return!e.giftsDistributed})),isSelectTicketModalOpen:!0});case 12:e.next=15;break;case 14:D.a.apiFailureToast("Could not get tickets for this event");case 15:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s,l){return e.apply(this,arguments)}}(),n.distributeGifts=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,s,l,i,u,d,m,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.checkWalletConnection();case 2:if(!e.sent){e.next=35;break}if(i=8217===(null===(a=window.caver)||void 0===a||null===(r=a.currentProvider)||void 0===r?void 0:r.networkVersion)?"Cypress":"Baobab",n.state.distributeGiftEvent.ownerWalletAddress===window.caver.utils.toChecksumAddress(null===(s=window.caver)||void 0===s||null===(l=s.currentProvider)||void 0===l?void 0:l.selectedAddress)){e.next=7;break}return D.a.apiFailureToast("Current wallet address didn't match"),e.abrupt("return");case 7:if(n.state.distributeGiftEvent.contractNetwork===i){e.next=10;break}return D.a.apiFailureToast("Please switch to ".concat(n.state.distributeGiftEvent.contractNetwork," network")),e.abrupt("return");case 10:return e.next=12,n.setState({isLoading:!0});case 12:return e.next=14,D.a.parseResponse(be(t._id));case 14:if(u=e.sent,d=Object(c.a)(u,2),d[0],!(m=d[1])){e.next=32;break}if(!(m.length>0)){e.next=27;break}return e.next=22,n.selectRandomAddresses(m,t.gifts.totalGiftsAvailable);case 22:return p=e.sent,e.next=25,n.transferGiftNFTs(n.state.distributeGiftEvent.abi,n.state.distributeGiftEvent.contractAddress,t.gifts.giftNftTokenId,p,t._id,t.gifts.giftImages,t.name);case 25:e.next=30;break;case 27:return e.next=29,n.setState({isLoading:!1});case 29:D.a.apiFailureToast("No Buyers exist for this event");case 30:e.next=35;break;case 32:return e.next=34,n.setState({isLoading:!1});case 34:D.a.apiFailureToast("No Buyers exist for this event");case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.transferGiftNFTs=function(){var e=Object(d.a)(o.a.mark((function e(t,a,r,s,l,i,u){var m,p,f,b,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=JSON.parse(t),p=new window.caver.klay.Contract(m,a),e.next=4,window.caver.klay.getGasPrice();case 4:return f=e.sent,b=[],s.forEach((function(e){b.push(1)})),v={from:window.caver.currentProvider.selectedAddress,to:a,gas:792e4,gasPrice:f,data:p.methods.giftSafeTransfer(r,s,b).encodeABI()},e.next=10,window.caver.klay.sendTransaction(v).on("transactionHash",(function(e){})).on("error",function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({isLoading:!1});case 2:D.a.apiFailureToast("Gift distribution failed");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(Object(ke.a)(n))).on("receipt",function(){var e=Object(d.a)(o.a.mark((function e(t){var a,n,d,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveGiftNFTDetailsForReceivers(s,l,r,i,u);case 2:return a={giftsDistributed:!0},e.next=5,D.a.parseResponse(ge(a,l));case 5:if(n=e.sent,d=Object(c.a)(n,2),m=d[0],!d[1]||m){e.next=13;break}return e.next=12,this.setState({isLoading:!1,isSelectTicketModalOpen:!1});case 12:D.a.apiSuccessToast("Gift NFTs distributed successfully");case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(Object(ke.a)(n)));case 10:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s,l,c){return e.apply(this,arguments)}}(),n.saveGiftNFTDetailsForReceivers=function(){var e=Object(d.a)(o.a.mark((function e(t,a,r,s,l){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],t.forEach((function(e){c.push({ticket:a,event:n.state.distributeGiftEvent.eventId,creator:n.state.distributeGiftEvent.creatorEmail,buyerWalletAddress:e,giftNFTImageIPFS:s[0],giftNFTImageS3:s[1],nftTokenId:r,ticketName:l})})),i={gifts:c},e.next=5,D.a.parseResponse(Ee(i));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),n.selectRandomAddresses=function(){var e=Object(d.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>=a)){e.next=6;break}for(n=[];n.length<a;)r=Math.floor(Math.random()*t.length),n.includes(t[r])||n.push(t[r]);return e.abrupt("return",n);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.closeSelectTicketPopup=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({isSelectTicketModalOpen:!1});case 1:case"end":return e.stop()}}),e)}))),n.sortByName=function(e){n.setState({events:e})},n.state={events:[],loading:!1,total:0,skip:0,limit:3,status:s.i.PUBLISHED,searchQuery:"",type:"",typeTitle:"",startTime:0,endTime:0,sortingKey:"",tickets:[],isSelectTicketModalOpen:!1,distributeGiftEvent:{},isLoading:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getEvents(s.i.PUBLISHED,this.state.skip)}},{key:"render",value:function(){var e;return D.a.checkPermission(s.a.EVENTS,null===(e=this.props.user)||void 0===e?void 0:e.userDetails)||Ne.a.replace(s.g.USER_MANAGEMENT),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{state:this.state,handleChange:this.handleChange,getListByPage:this.getListByPage,searchEvent:this.searchEvent,deleteEvent:this.deleteEvent,setDistributeEventDetails:this.setDistributeEventDetails,sortByName:this.sortByName}),r.a.createElement(Re,{isLoading:this.state.isLoading,open:this.state.isSelectTicketModalOpen,tickets:this.state.tickets,distributeGifts:this.distributeGifts,closeSelectTicketPopup:this.closeSelectTicketPopup}))}}]),a}(v.a),_e=Object(j.b)((function(e){return{user:e.user}}),{dispatchAction:D.b})(Be),Le=function(e){return{type:s.l.UPDATE_KAIKAS_DETAILS,payload:e}},Fe=function(){function e(t){if(Object(m.a)(this,e),this.title="",this.description="",this.payload={type:s.f.EVENT},this.isRead=!1,this.isCleared=!1,this.id="",t)return this.setData(t)}return Object(p.a)(e,[{key:"setData",value:function(e){this.title=e.title?e.title:"",this.isRead=!!e.isRead&&e.isRead,this.isCleared=!!e.isCleared&&e.isCleared,this.description=e.description?e.description:"",this.id=e._id?e._id:"",this.payload=e.payload?e.payload:{type:s.f.EVENT}}}]),e}();var Ge=function(e){var t=e.isOpen,a=void 0===t||t,s=e.setIsOpen,l=e.children,c=e.className,i=void 0===c?"":c,o=Object(n.useRef)();return Object(n.useEffect)((function(){var e=function(e){a&&o.current&&!o.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[a,s]),r.a.createElement("div",{className:i,ref:o},l)};var Me=Object(j.b)((function(e){return{user:e.user}}),(function(e){return{updateKaikasDetails:function(t){e(Le(t))}}}))((function(e){var t,a,s=Object(n.useState)(!!(null===(t=window.caver)||void 0===t||null===(a=t.currentProvider)||void 0===a?void 0:a.selectedAddress)),l=Object(c.a)(s,2),i=l[0],u=l[1],m=function(){var t=Object(d.a)(o.a.mark((function t(){var a,n,r,s,l,c,i,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"===typeof window.klaytn||!(null===(a=window)||void 0===a||null===(n=a.klaytn)||void 0===n?void 0:n.isKaikas)){t.next=10;break}return t.next=3,null===(r=window)||void 0===r?void 0:r.klaytn.enable();case 3:s=t.sent,l=s[0],e.updateKaikasDetails({address:l}),u(!0),window.location.reload(!1),t.next=15;break;case 10:return t.next=12,window.caver.currentProvider.enable();case 12:d={address:window.caver.utils.toChecksumAddress(null===(c=window.caver)||void 0===c||null===(i=c.currentProvider)||void 0===i?void 0:i.selectedAddress)},e.updateKaikasDetails(d),u(!0);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:" fixed z-10 inset-0 justify-end  bg-darkGrey-100 bg-opacity-70 flex "},r.a.createElement(Ge,{setIsOpen:e.setConnectWallet,className:"z-20 flex flex-col h-screen w-100.25 bg-white"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"pl-8  pb-9"},r.a.createElement("div",{className:"pt-8 text-ft6 font-OpenSansSemiBold text-black-50"},"Connect Wallet"),r.a.createElement("div",{className:"text-ft4 pr-6 pt-3 text-darkGrey-100"},"Connect with one of our available wallet providers")),r.a.createElement("div",null,r.a.createElement("img",{onClick:function(){return e.setConnectWallet(!1)},className:"pt-9 pr-6 cursor-pointer w-12.5",alt:"",src:"/images/ic-close.svg"}))),r.a.createElement("span",{className:"border-t border-Slate-350"}),r.a.createElement("div",{className:"flex justify-between px-7 pt-8 pb-9"},r.a.createElement("div",{className:" flex"},r.a.createElement("img",{className:"w-10",alt:"",src:"/images/kaikas-icon.png"})," ",r.a.createElement("p",{className:"mt-1.5 pl-5 text-ft3 font-semibold text-darkGrey-100"},"Kaikas")),r.a.createElement("button",{disabled:i,className:"w-25 h-9  text-white rounded-2xl text-ft2 ".concat(i?"bg-Slate-350":"bg-blue-50"),onClick:m},i?r.a.createElement("p",{className:"font-semibold "},"Connected"):r.a.createElement("p",{className:"font-semibold "},"Connect"))),r.a.createElement("span",{className:"border-t border-Slate-350"}))))})),Ue=a(8);function ze(){return{"Content-Type":s.n.CONTENT_TYPE.APPLICATION_JSON,"Access-Control-Allow-Origin":"*",authorization:"Bearer ".concat(Ue.a.getDataFromCookies(s.l.ACCESS_TOKEN))}}function He(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(d.a)(o.a.mark((function e(t){var a,n,r,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:0,n=l.length>2&&void 0!==l[2]?l[2]:0,r="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3004"+"".concat(s.n.API_END_POINT.GET_UNREAD_NOTIFICATIONS,"/").concat(t,"?currentPage=").concat(a,"&currentSize=").concat(n),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,ze(),{},r).then((function(e){return e.success&&200===e.responseCode&&e.responseData?Promise.resolve(e.responseData):Promise.reject(e)})).catch((function(e){return Promise.reject(e)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e){return We.apply(this,arguments)}function We(){return(We=Object(d.a)(o.a.mark((function e(t){var a,n,r,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:0,n=l.length>2&&void 0!==l[2]?l[2]:0,r="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3004"+"".concat(s.n.API_END_POINT.GET_NOTIFICATIONS_LIST,"/").concat(t,"?currentPage=").concat(a,"&currentSize=").concat(n),e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.GET,ze(),{},r).then((function(e){return e.success&&200===e.responseCode&&e.responseData?Promise.resolve(e.responseData):Promise.reject(e)})).catch((function(e){return Promise.reject(e)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://nftticketing-dev-1099243859.us-east-1.elb.amazonaws.com:3004"+s.n.API_END_POINT.MARK_NOTIFICATION_READ,e.abrupt("return",Object(C.a)(s.n.METHOD_TYPE.POST,ze(),t,a).then((function(e){return e.success&&200===e.responseCode&&e.responseData?Promise.resolve(e.responseData):Promise.reject(e)})).catch((function(e){return Promise.reject(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Je=a(664),qe=a(73),$e=a(1113);var Ze=Object(j.b)((function(e){return{isActive:e.sideBar.showSidebar,user:e.user}}),(function(e){return{SetSidebar:function(t){var a;e((a=t,{type:s.l.SET_SIDEBAR,payload:a}))},updateKaikasDetails:function(t){e(Le(t))}}}))((function(e){var t,a,l,i,u,m,p=e.SetSidebar,f=e.updateKaikasDetails,b=e.isActive,v=e.user,g=Object(n.useState)(!1),h=Object(c.a)(g,2),E=h[0],x=h[1],N=Object(n.useState)((null===(t=window.caver)||void 0===t||null===(a=t.currentProvider)||void 0===a?void 0:a.selectedAddress)||(null===v||void 0===v||null===(l=v.userDetails)||void 0===l||null===(i=l.kaikasWalletDetails)||void 0===i?void 0:i.address)),w=Object(c.a)(N,2),y=w[0],O=w[1],k=Object(j.c)(),S=Object(n.useState)(1),T=Object(c.a)(S,2),C=T[0],A=(T[1],Object(n.useState)("")),P=Object(c.a)(A,2),I=P[0],R=(P[1],Object(n.useState)(!1)),B=Object(c.a)(R,2),_=B[0],L=B[1],F=Object(n.useState)(!1),G=Object(c.a)(F,2),M=G[0],U=G[1],z=Object(n.useState)(0),H=Object(c.a)(z,2),Y=(H[0],H[1]),K=Object(n.useState)(0),W=Object(c.a)(K,2),V=W[0],Q=W[1],J=Object(n.useState)(!1),q=Object(c.a)(J,2),$=q[0],Z=q[1],X=Object(n.useState)(!1),ee=Object(c.a)(X,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(c.a)(ne,2),se=re[0],le=re[1],ce=Object(n.useState)(s.f.ALL),ie=Object(c.a)(ce,2),oe=ie[0],ue=ie[1],de=Object(n.useRef)(),me=Object(n.useRef)(),pe=v.userDetails&&Object.keys(v.userDetails).length?v.userDetails:new qe.a;Object(n.useEffect)((function(){fe(oe),fe(s.f.UNREAD,!1)}),[oe,I]),Object(n.useEffect)((function(){var e,t,a,n,r;(null===(e=window.caver)||void 0===e||null===(t=e.currentProvider)||void 0===t?void 0:t.selectedAddress)?f({address:null===(n=window.caver)||void 0===n||null===(r=n.currentProvider)||void 0===r?void 0:r.selectedAddress}):f({address:""});O(!!(null===v||void 0===v||null===(a=v.kaikasWalletDetails)||void 0===a?void 0:a.address))}),[E]);var fe=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a,n,r,l,i,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:s.f.ALL,a=!(u.length>1&&void 0!==u[1])||u[1],ae(!0),e.next=5,D.a.parseResponse(t===s.f.ALL?Ke(pe.userId,a?C:1,I):He(pe.userId,a?C:1,I));case 5:if(n=e.sent,r=Object(c.a)(n,2),l=r[0],i=r[1],!l&&i&&i.data&&i.data.length){e.next=13;break}return a&&le([]),ae(!1),e.abrupt("return");case 13:a?(ae(!1),le(i.data.map((function(e){return new Fe(e)}))),Y(i.numberOfElements)):Q(i.numberOfElements);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(e){M&&de.current&&!de.current.contains(e.target)&&U(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[M]),Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$||!me.current||me.current.contains(t.target)){e.next=7;break}if(!(null===(a=se.filter((function(e){return!1===e.isRead})).map((function(e){return e.id})))||void 0===a?void 0:a.length)){e.next=6;break}return e.next=5,Ve({notificationIds:a});case 5:ue(s.f.UNREAD);case 6:Z(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[$]),r.a.createElement("div",{className:" h-16 flex justify-between item-center"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("img",{alt:"",className:"ml-12.5 my-7 w-4.5 h-3 cursor-pointer",src:"/images/ic_menu.svg",onClick:function(){return p(!b)}}),r.a.createElement("img",{src:"/images/img-logo.png",className:"ml-7 h-5"})),r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{ref:de,className:"items-center flex flex-row relative cursor-pointer ",onClick:function(){return U(!M)}},r.a.createElement("div",{className:"w-8.75 h-8.75 flex rounded-50per overflow-hidden"},r.a.createElement("img",{alt:"org",className:"m-auto h-full w-full",src:pe.image?pe.image:"/images/img-profile.png"})),r.a.createElement("p",{className:" pl-3 pr-2 py-6 flex-row whitespace-nowrap  font-OpenSansSemiBold text-ft3 text-darkGrey-100"},(null===pe||void 0===pe||null===(u=pe.name)||void 0===u?void 0:u.length)>14?"".concat(null===pe||void 0===pe||null===(m=pe.name)||void 0===m?void 0:m.slice(0,14),"..."):null===pe||void 0===pe?void 0:pe.name),r.a.createElement("img",{alt:"down-arrow",className:"relative w-3.5 pl-1 cursor-pointer ",src:"/images/down-arrow.svg"}),M&&r.a.createElement("div",{className:"border bg-white rounded-tl-2xl rounded-bl-2xl rounded-tr-2xl rounded-br-2xl border-grey-200  mb-10 w-42.5 h-26.9 py-2.5  top-15 absolute"},r.a.createElement("div",{className:"h-4 w-4 transform absolute -top-2 rotate-45 right-11 border-t border-l border-grey-200 bg-white"}),r.a.createElement("a",{className:"flex ",href:s.g.ACCOUNT_SETTING},r.a.createElement("img",{alt:"",className:"pl-4",src:"/images/ic-accountsettings.svg"}),r.a.createElement("div",{className:" h-10 flex items-center pl-4 font-OpenSansRegular text-ft2 text-left text-darkGrey-100 cursor-pointer"},"Account Settings")),r.a.createElement("div",{className:" border border-grey-100"}),r.a.createElement("div",{className:"flex",onClick:function(){return(new Je.a).logout(),void k({type:s.l.LOGOUT,data:{}})}},r.a.createElement("img",{alt:"",className:" pl-4",src:"/images/ic-logout.svg"}),r.a.createElement("div",{className:" h-10 flex items-center pl-6 font-OpenSansRegular text-ft2 text-left text-darkGrey-100 cursor-pointer "},"Logout")))),r.a.createElement("div",{className:"ml-7 h-5 border border-grey-200"}),r.a.createElement("span",{className:"relative ml-7 flex items-center",ref:me},r.a.createElement("div",{onClick:function(){return Z(!$)},className:"relative"},r.a.createElement("img",{alt:"",className:"mr-10 h-5 my-6 cursor-pointer ",src:"/images/ic-notification.png"}),V>0?r.a.createElement("span",{className:"text-white bg-blue-50 absolute rounded-full text-ft1 mt-4 top-0 ml-2   py-0 px-1.5"},V):null),$&&r.a.createElement("div",{className:"border rounded-lg bg-white border-grey-200 right-0  mb-10 w-80 absolute top-16"},r.a.createElement("div",{className:"flex justify-between w-full pt-6 border-b-0.25 border-grey-100 pb-6"},r.a.createElement("div",{className:"text-ft3 font-OpenSansSemiBold text-black-50 px-4 pt-1.5 cursor-pointer"},"Notifications"),r.a.createElement("div",{className:"flex justify-between w-6/12"},r.a.createElement("div",{onClick:function(){return ue(s.f.ALL)},className:" h-7.5 w-12.5 rounded-2xl text-ft2  px-4 pt-1.5 cursor-pointer ".concat(oe===s.f.ALL?"bg-blue-50 text-Slate-200":"border border-grey-200 ")},"All"),r.a.createElement("div",{onClick:function(){return ue(s.f.UNREAD)},className:" h-7.5 w-18  rounded-2xl text-ft2  px-4 pt-1.5 mr-3 cursor-pointer ".concat(oe===s.f.UNREAD?"bg-blue-50 text-Slate-200":"border border-grey-200 ")},"Unread"))),r.a.createElement("hr",{className:"border-Slate-200"}),te?r.a.createElement("div",{className:"noRecordFound"},r.a.createElement($e.a,{color:"#949CAE"})):0==te&&0===(null===se||void 0===se?void 0:se.length)?r.a.createElement("p",{className:"noRecordFound"},"No data found"):r.a.createElement("div",{className:_?"overflow-auto h-151.5":"overflow-auto h-57.5"},se.map((function(e,t){return r.a.createElement("div",{className:"flex mt-6",key:t},r.a.createElement("img",{alt:"",className:" pl-5 pr-3",src:"New Event Created"===se[t].title?"/images/ic-welcome.svg":"New Message"===se[t].title?"/images/ic-messagesnotif.svg":"/images/ic-alert.svg"}),r.a.createElement("div",{className:" flex flex-col"},r.a.createElement("div",{className:"text-ft2 font-OpenSansSemiBold text-black-50 break-all"},e.title),r.a.createElement("div",{className:"text-ft2 font-OpenSansRegular text-darkGrey-100 break-all"}," ",e.description)))}))),r.a.createElement("hr",{className:"border-Slate-200"}),r.a.createElement("div",{className:" border-t-0.25 flex justify-center border-grey-100 mt-6 pb-6 cursor-pointer"},r.a.createElement("div",{className:"bg-blue-50 h-10 w-62.5 flex justify-center items-center rounded-2xl text-ft2 text-Slate-100 ",onClick:function(){return L(!_)}},_?"View less notifications":"View all notifications")))),E?r.a.createElement(Me,{connectWallet:E,setConnectWallet:x}):null,r.a.createElement("div",{onClick:function(){return x(!0)},className:" flex border cursor-pointer items-center rounded-3xl h-9 my-4 w-42 px-5 py-2 mr-3 pt-2.5 border-grey-200 whitespace-nowrap"},r.a.createElement("img",{alt:"",className:"pr-1 w-6 h-4",src:"/images/ic-connectwallet.svg"}),r.a.createElement("p",{className:" font-OpenSansSemiBold text-blue-50 -mt-0.5  text-ft3 pl-2"},y?"Connected":"Connect Wallet"))))})),Xe=a(6),et=a(49);var tt=Object(j.b)((function(e){var t;return{user:null===(t=e.user)||void 0===t?void 0:t.userDetails}}),{dispatchAction:D.b})((function(e){var t,a,l=e.state,i=Object(j.d)((function(e){return e.sideBar.showSidebar})),o=(window.location.pathname,Object(n.useState)("1")),u=Object(c.a)(o,2),d=(u[0],u[1]),m=Object(n.useState)(""),p=Object(c.a)(m,2),f=p[0],b=p[1],v=Object(Xe.g)(),g=["/dashboard/events","/dashboard/create-event"];return Object(n.useEffect)((function(){b(v.pathname)}),[v]),r.a.createElement(r.a.Fragment,null,i?r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"flex flex-col w-25"},r.a.createElement("div",{className:"w-10 h-10 flex rounded-50per overflow-hidden mt-2.5 ml-auto mr-auto "},r.a.createElement("img",{alt:"org",className:"m-auto h-full w-full",src:l.userDetails&&l.userDetails.organization&&l.userDetails.organization.image?l.userDetails.organization.image:"/images/img-placeholder.svg"})),r.a.createElement("div",{className:"mt-10"},D.a.checkPermission(s.a.DASHBOARD,e.user)&&r.a.createElement(et.c,{to:s.g.DASHBOARD,activeClassName:"bg-Slate-100",className:"block  pt-4 pb-4 mb-4  border-l-4 hover:border-blue-50 hover:bg-Slate-100 "},r.a.createElement("div",{className:"space-x-2 flex text-ft3 font-OpenSansSemiBol "},r.a.createElement("img",{alt:"",className:"pl-8 pr-5",src:"/images/ic-statistics.svg"}))),D.a.checkPermission(s.a.EVENTS,e.user)&&r.a.createElement(et.c,{to:s.g.EVENTS},r.a.createElement("div",{className:"pt-4 pb-4 mb-4  border-l-4 border-white hover:border-l-4 hover:border-blue-50 hover:bg-Slate-100 ".concat(g.includes(f)&&"bg-Slate-100")},r.a.createElement("div",{className:"space-x-2 flex text-ft3 font-normal "},r.a.createElement("img",{alt:"",className:"pl-8 pr-5",src:"/images/ic-events.svg"})))),D.a.checkPermission(s.a.MESSAGE,e.user)&&r.a.createElement(et.c,{to:s.g.MESSAGE,activeClassName:"bg-Slate-100 ",className:"block pt-4 pb-4 border-l-4 border-white hover:border-l-4 hover:border-blue-50 hover:bg-Slate-100  "},r.a.createElement("div",{className:"space-x-2 flex text-ft3 font-normal "},r.a.createElement("img",{alt:"",className:"pl-8 pr-5",src:"/images/ic-messages.svg"}))),r.a.createElement(et.c,{activeClassName:"bg-Slate-100",to:s.g.USER_MANAGEMENT,className:"block pt-4 mt-2 pb-4 border-l-4 border-white hover:border-l-4 hover:border-blue-50 hover:bg-Slate-100  "},r.a.createElement("div",{className:"space-x-2 flex text-ft3 font-normal "},r.a.createElement("img",{alt:"",className:"pl-8 pr-5",src:"/images/ic-usermanagement.svg"})))))):r.a.createElement("div",{className:"  flex flex-col w-72 h-100per"},r.a.createElement("div",{className:"w-30 h-30 flex rounded-50per overflow-hidden mt-15 ml-auto mr-auto"},r.a.createElement("img",{alt:"org",className:"m-auto h-full w-full",src:l.userDetails&&l.userDetails.organization&&l.userDetails.organization.image?l.userDetails.organization.image:"/images/img-placeholder.svg"})),r.a.createElement("h1",{className:"text-ft4 font-OpenSansRegular text-black-50 mt-4 ml-auto mr-auto "},l.userDetails&&l.userDetails.organization&&l.userDetails.organization.name.length>16?"".concat(null===(t=l.userDetails)||void 0===t||null===(a=t.organization.name)||void 0===a?void 0:a.slice(0,16),"..."):l.userDetails.organization.name),r.a.createElement("div",{className:"sidebar mt-7.75"},D.a.checkPermission(s.a.DASHBOARD,e.user)&&r.a.createElement(et.c,{to:s.g.DASHBOARD},r.a.createElement("div",{className:f===s.g.DASHBOARD?"pt-4 pb-4 mb-2 border-blue-50 border-l-4 menu-item":"pt-4 pb-4 mb-2 border-blue-50 border-l-4 ml-1.25",onClick:function(){return d("1")}},r.a.createElement("div",{className:"space-x-2 flex text-ft3 font-OpenSansSemiBol "},r.a.createElement("img",{alt:"",className:"pl-6 pr-5 ",src:"/images/ic-statistics.svg"}),r.a.createElement("p",{className:"font-OpenSans text-ft3 cursor-pointer "},"Dashboard")))),D.a.checkPermission(s.a.EVENTS,e.user)&&r.a.createElement(et.c,{to:s.g.EVENTS},r.a.createElement("div",{className:g.includes(f)?"pt-4 pb-4 mb-2 border-blue-50 border-l-4 menu-item":"pt-4 pb-4 mb-2 border-blue-50 border-l-4 ml-1.25",onClick:function(){return d("2")}},r.a.createElement("div",{className:"space-x-2 flex text-ft3 font-OpenSansSemiBol "},r.a.createElement("img",{alt:"",className:"pl-6 pr-5",src:"/images/ic-events.svg"}),r.a.createElement("p",{className:"font-OpenSans text-ft3 cursor-pointer "},"Events")))),D.a.checkPermission(s.a.MESSAGE,e.user)&&r.a.createElement(et.c,{to:s.g.MESSAGE},r.a.createElement("div",{className:f===s.g.MESSAGE?"pt-4 pb-4 mb-2 border-blue-50 border-l-4 menu-item":"pt-4 pb-4 mb-2 border-blue-50 border-l-4 ml-1.25",onClick:function(){return d("3")}},r.a.createElement("div",{className:"space-x-2 flex text-ft3 font-OpenSans "},r.a.createElement("img",{alt:"",className:"pl-6 pr-5",src:"/images/ic-messages.svg"}),r.a.createElement("p",{className:"font-OpenSans text-ft3 cursor-pointer"},"Messages")))),r.a.createElement(et.c,{to:s.g.USER_MANAGEMENT},r.a.createElement("div",{className:f===s.g.USER_MANAGEMENT?"pt-4 pb-4 mb-2 border-blue-50 border-l-4 menu-item":"pt-4 pb-4 mb-2 border-blue-50 border-l-4 ml-1.25",onClick:function(){return d("4")}},r.a.createElement("div",{className:"space-x-2 flex text-ft3 font-OpenSansSemiBol "},r.a.createElement("img",{alt:"",className:"pl-6 pr-5",src:"/images/ic-usermanagement.svg"}),r.a.createElement("p",{className:"font-OpenSans text-ft3 cursor-pointer "},"User Management"))))),r.a.createElement("div",{className:"pt-96 pl-9  flex"},r.a.createElement("div",{className:"font-OpenSansSemiBold text-ft6 text-black-50"},"Powered by "),r.a.createElement("img",{className:"w-29 ml-1 ",src:"/images/logo-powered-by.png"}))))})),at=function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={userDetails:new qe.a},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.user.userDetails&&Object.keys(this.props.user.userDetails).length?this.props.user.userDetails:this.state.userDetails;this.setState({userDetails:e})}},{key:"render",value:function(){return r.a.createElement(tt,{state:this.state,showSidebar:this.props.showSidebar})}}]),a}(v.a),nt=Object(j.b)((function(e){return{user:e.user}}),{dispatchAction:D.b})(at);var rt=function(e){return r.a.createElement("footer",{className:"fixed bottom-0 left-0 flex justify-end py-5 bg-white shadow-2xl w-full"},r.a.createElement("button",{className:"bg-blue-50 rounded-full py-3.75 px-15 text-white font-OpenSansSemiBold text-ft3 mr-12.5",onClick:function(){e.checkBasicInfo()&&e.updateActivePage(s.c.TICKETS)}},"Next"))},st=a(1423);var lt=function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],l=a[1],i=Object(st.a)({accept:{"image/png":[".png"],"image/jpg":[".jpg"]},onDrop:function(t){var a;(null===(a=t[0])||void 0===a?void 0:a.size)<8e7?(e.uploadEventImage?e.uploadEventImage(t):e.uploadImageToIPFS&&e.uploadImageToIPFS(t,e.imageFor),l(t)):alert("Please Upload less than 10mb file")}}),o=i.getRootProps,u=i.getInputProps;return Object(n.useEffect)((function(){e.chosenFile&&e.chosenFile.hasOwnProperty("path")&&l([e.chosenFile])}),[]),r.a.createElement(r.a.Fragment,null,(null===s||void 0===s?void 0:s.length)?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"h-62.5 w-183.25 mt-10 mb-7 flex"},r.a.createElement("img",{className:"h-full w-full",src:(null===s||void 0===s?void 0:s.length)?URL.createObjectURL(s[0]):"",alt:""}),r.a.createElement("input",Object.assign({type:"file",id:"editImage",className:"hidden"},u())),r.a.createElement("label",{className:"mt-auto",htmlFor:"editImage"},r.a.createElement("img",{alt:"",src:"/images/image-edit.svg",className:"w-6 mt-auto ml-2"})))):r.a.createElement("div",o({className:"bg-Slate-50 h-62.5 w-183.25 mt-10  items-center text-center mb-7 cursor-pointer "}),r.a.createElement("img",{className:"m-auto pt-18.5 cursor-pointer",src:"/images/ic-imageplaceholder.svg",alt:""}),r.a.createElement("input",Object.assign({type:"file",className:"hidden"},u())),r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 mt-5"},"Drag & drop or click to add event image"),r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-50 mt-2.5"},"JPEG or PNG, no larger than 10mb")))},ct=a(1214),it=a.n(ct),ot=a(1215);var ut=function(e){var t=e.handleChange,a=e.updateActivePage,s=e.updateVenueLocation,l=e.checkBasicInfo,i=e.uploadEventImage,o=e.deleteEventImage,u=e.updateLocationType,d=e.state,m=Object(n.useState)("py-4 px-14 text-ft3 text-white rounded-lg font-OpenSansRegular bg-blue-50  border"),p=Object(c.a)(m,2),f=p[0],b=p[1],v=Object(n.useState)("ml-3.75  py-4 px-8 text-ft3 text-black-50 rounded-lg font-OpenSansRegular border-grey-400 border"),g=Object(c.a)(v,2),h=g[0],E=g[1],x=Object(n.useState)("block"),N=Object(c.a)(x,2),w=N[0],y=N[1],O=Object(n.useState)("hidden"),k=Object(c.a)(O,2),S=k[0],T=k[1],j=Object(ot.usePlacesWidget)({apiKey:"AIzaSyBSAboD30VnSq4_2uPsxCes7OCLdfZWBgA",onPlaceSelected:function(e){return s({country:"",state:"",pincode:"",city:"",venue:e.formatted_address})}}).ref,D=function(e){u(e),b("py-4 px-14 text-ft3 text-white rounded-lg font-OpenSansRegular bg-blue-50  border"===f?"py-4 px-14 text-ft3 text-black-50 rounded-lg font-OpenSansRegular border-grey-400  border":"py-4 px-14 text-ft3 text-white rounded-lg font-OpenSansRegular bg-blue-50  border"),E("ml-3.75  py-4 px-8 text-ft3 text-black-50 rounded-lg font-OpenSansRegular border-grey-400 border"===h?"ml-3.75  py-4 px-8 text-ft3 text-white rounded-lg font-OpenSansRegular bg-blue-50 border":"ml-3.75  py-4 px-8 text-ft3 text-black-50 rounded-lg font-OpenSansRegular border-grey-400 border"),y("block"===w?"hidden":"block"),T("hidden"===S?"block":"hidden")},C=Object(n.useState)(!1),A=Object(c.a)(C,2),P=A[0],I=A[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-Slate-200 px-12.5 pb-18 w-full"},r.a.createElement("div",{className:"pt-12.5"},r.a.createElement(et.b,{to:"/dashboard/events"},r.a.createElement("img",{alt:"",src:"/images/ic-back-accntsettings.svg",className:""}))),r.a.createElement("div",{className:"pt-6 flex justify-between"},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft8 text-black-50"},"Create Event"),r.a.createElement("div",{className:"flex space-x-8.75"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-black-50 text-white rounded-full"},"1"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansSemiBold text-ft4 py-1.5 text-black-50"},"Event Details")),r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-darkGrey-50 text-white rounded-full"},"2"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansRegular text-ft4 py-1.5 text-darkGrey-50"},"Tickets")),r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-darkGrey-50 text-white rounded-full"},"3"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansRegular text-ft4 py-1.5 text-darkGrey-50"},"Mint")))),r.a.createElement("div",{className:"bg-white pl-12.5 pr-86.5 mt-9.5 rounded-lg pb-77"},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 pt-12.5"},"Basic Info"),r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-100 pt-2.5"},"Name your event and tell event-goers why they should come."),r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50 mt-10"},"Event Title"),r.a.createElement("input",{id:"name",onChange:function(e){return t(e)},value:d.name,maxLength:"75",className:"w-full rounded-lg border border-grey-400  focus:outline-none text-black-50  mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"}),r.a.createElement("p",{className:"font-OpenSansRegular text-ft2  justify-end flex text-darkGrey-50"},"".concat(d.name.length,"/").concat(75)),""!==d.name||d.basicDetailsFilled?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-100 "},"This field is mandatory"),r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50 mt-10"},"Event Category"),r.a.createElement("select",{id:"category",className:"styled-select-category w-full flex rounded-lg border border-grey-400 bg-white text-black-50 outline-none  mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3 ".concat(P?"select-active":"select-inactive"),onChange:function(e){return t(e)},value:d.category,onClick:function(){return I(!P)}},r.a.createElement("option",{selected:!0,hidden:!0},"Select Category"),d.categoryList.map((function(e,t){return r.a.createElement("option",{key:t,value:e,className:"font-OpenSansRegular text-ft3 text-black-50 bg-white "},e)}))),""!==d.category||d.basicDetailsFilled?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-100 mt-3"},"This field is mandatory"),r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50 mt-10"},"Description"),r.a.createElement("textarea",{id:"description",onChange:function(e){return t(e)},value:d.description,maxLength:"140",rows:"4",className:" resize-none w-full border rounded-lg border-grey-400  focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"}),r.a.createElement("p",{className:"font-OpenSansRegular text-ft2  justify-end flex text-darkGrey-50"},"".concat(d.description.length,"/").concat(140)),""!==d.description||d.basicDetailsFilled?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-100 "},"This field is mandatory"),r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 mt-8"},"Location"),r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-100 pt-2.5"},"Help people in the area discover your event."),r.a.createElement("div",{className:"flex mt-8 "},r.a.createElement("button",{type:"button",className:f,onClick:function(){D("VENUE")}},"Physical Event"),r.a.createElement("button",{type:"button",className:h,onClick:function(){D("ONLINE")}},"Online Event")),r.a.createElement("div",{className:w},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-100 mt-7.5"},"Venue Location"),r.a.createElement("div",{className:"flex w-full border rounded-lg border-grey-400 focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3 "},r.a.createElement("img",{alt:"",src:"/images/ic-search.svg",className:""}),r.a.createElement("input",{ref:j,id:"venueLocation",onChange:function(e){return s({country:"",state:"",pincode:"",city:"",venue:e.target.value})},value:d.venueLocation.venue,className:"placeholder-darkGrey-50 w-full focus:outline-none pl-2.5",placeholder:"Search for a venue or address "})),""!==d.venueLocation.venue||d.basicDetailsFilled?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-100 mt-3"},"This field is mandatory")),r.a.createElement("div",{className:S},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-100 mt-7.5"},"Add video conference link"),r.a.createElement("div",{className:"flex w-full rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"},r.a.createElement("input",{id:"videoConferenceLink",onChange:function(e){return t(e)},value:d.videoConferenceLink,className:"placeholder-darkGrey-50 w-full focus:outline-none ",placeholder:"http://www.samplelink.com"}))),r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 mt-12.5"},"Date and Time"),r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-100 pt-2.5"},"Tell event-goers when your event starts and ends so they can make plans to attend."),r.a.createElement("div",{className:"flex space-x-5 mt-10 "},r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50"},"Event Starts"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3 "},r.a.createElement("img",{alt:"",src:"/images/ic-calendar.svg",className:""}),r.a.createElement("input",{id:"startDate",onChange:function(e){return t(e)},value:d.startDate,type:"date",autoFocus:!0,min:De()(new Date).format("YYYY-MM-DD"),className:"placeholder-black-50  focus:outline-none cursor-pointer  flex flex-row-reverse absolute bg-transparent gap-2"})),""!==d.startDate||d.basicDetailsFilled?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-100 mt-3"},"This field is mandatory")),r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50 "},"Event Ends"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3 "},r.a.createElement("img",{alt:"",src:"/images/ic-calendar.svg",className:""}),r.a.createElement("input",{id:"endDate",onChange:function(e){return t(e)},value:De()(d.endDate).format("YYYY-MM-DD"),type:"date",min:De()(d.startDate).format("YYYY-MM-DD"),className:"placeholder-black-50  focus:outline-none  flex flex-row-reverse absolute bg-transparent gap-2"})),""!==d.endDate||d.basicDetailsFilled?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-100 mt-3"},"This field is mandatory"))),r.a.createElement("div",{className:"flex space-x-5 mt-7.5 "},r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50"},"Start Time"),r.a.createElement("div",{className:"sd-container flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3 "},r.a.createElement("input",{id:"startTime",onChange:function(e){return t(e)},value:d.startTime,className:"placeholder-black-50 w-full focus:outline-none flex flex-row-reverse",type:"time"})),""!==d.startTime||d.basicDetailsFilled?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-100 mt-3"},"This field is mandatory")),r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50"},"End Time"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3 "},r.a.createElement("input",{id:"endTime",onChange:function(e){return t(e)},value:d.endTime,min:d.startTime,className:"placeholder-black-50 w-full focus:outline-none flex flex-row-reverse",type:"time"})),""!==d.endTime||d.basicDetailsFilled?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-100 mt-3"},"This field is mandatory"))),d.isValidDate&&r.a.createElement("div",{className:"text-red-100 mt-3"},"The selected date and time is invalid"),r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50 mt-7.5"},"Timezone"),r.a.createElement(it.a,{id:"eventTimezone",className:"w-full placeholder-black-50 rounded-lg border-grey-400 border focus:outline-none mt-4 font-OpenSansRegular text-ft3",value:d.eventTimezone,onChange:function(e){return t({target:{id:"eventTimezone",value:e}})},inputProps:{placeholder:"Select Timezone...",name:"timezone"}}),""!==d.eventTimezone||d.basicDetailsFilled?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-100 mt-3"},"This field is mandatory"),r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 mt-12.5"},"Event Image"),r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-100 pt-2.5"},"This is the first image attendees will see at the top of your listing.",r.a.createElement("br",null),"Use a high quality image: 2160x1080px"),r.a.createElement(lt,{uploadEventImage:i,chosenFile:d.eventImageFile,deleteEventImage:o,imageFor:"eventImage"}),""!==d.image||d.basicDetailsFilled?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-100 "},"This field is mandatory"))),r.a.createElement(rt,{updateActivePage:a,checkBasicInfo:l}))};var dt=function(e){var t,a,s=e.item,l=e.index,i=e.editTicket,o=e.deleteTicket,u=Object(n.useState)(!1),d=Object(c.a)(u,2),m=d[0],p=d[1];function f(e){var t=e;if(e>=1e3){for(var a=Math.floor((""+e).length/3),n="",r=2;r>=1;r--){if(((n=parseFloat((0!=a?e/Math.pow(1e3,a):e).toPrecision(r)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break}n%1!=0&&(n=n.toFixed(1)),t=n+["","K","M","B","T","Q"][a]}return t}return r.a.createElement("div",{className:" h-29 flex w-full items-center pl-12.5 pr-12.5 border-t border-darkGrey-50 font-OpenSansSemiBold text-ft3 text-black-50  "},r.a.createElement("span",{className:"w-29.75 2xl:w-14per flex "},r.a.createElement("img",{className:"w-16.25  h-16.25 rounded",src:s.images[1],alt:""})),r.a.createElement("span",{className:"w-29.75 2xl:w-14per"},r.a.createElement("img",{className:"w-16.25 h-16.25 rounded",src:s.gifts.giftImages[1],alt:""})),r.a.createElement("span",{className:" text-ft4 text-black-50 font-OpenSansSemiBold text-left w-86.5 2xl:w-28per"},r.a.createElement("div",{className:"whitespace-nowrap"},(null===s||void 0===s||null===(t=s.name)||void 0===t?void 0:t.length)>14?"".concat(null===s||void 0===s||null===(a=s.name)||void 0===a?void 0:a.slice(0,14),"..."):null===s||void 0===s?void 0:s.name," "),r.a.createElement("div",{className:"text-ft3 text-darkGrey-100 font-OpenSansRegular text-left pt-1.25"},"Ends "+new Date(null===s||void 0===s?void 0:s.saleEndDate).toLocaleString())),r.a.createElement("span",{className:"w-45.75 text-ft4 text-black-50 font-OpenSansRegular text-left  2xl:w-14per"},"0/"+f(null===s||void 0===s?void 0:s.availableForSale)),r.a.createElement("span",{className:"w-38 text-ft4 text-black-50 font-OpenSansRegular text-left  2xl:w-14per"},"$"+f(null===s||void 0===s?void 0:s.price)),r.a.createElement("span",{className:"relative w-10 2xl:w-14per ",onClick:function(){return p(!m)}},r.a.createElement("img",{alt:"",src:"/images/ic-action.svg",className:"cursor-pointer"}),m&&r.a.createElement("div",{className:"absolute bottom-8 right-0 w-53.75 h-auto py-2.5 bg-white shadow-xl  "},r.a.createElement("div",{className:" h-12.5 flex items-center pl-6 font-OpenSansRegular text-ft4 text-left text-darkGrey-100 hover:bg-Slate-100",onClick:function(){i(l)}},"View"),r.a.createElement("div",{className:" h-12.5 flex items-center pl-6 font-OpenSansRegular text-ft4 text-left text-darkGrey-100 hover:bg-Slate-100",onClick:function(){o(l)}},"Delete"))))};var mt=function(e){var t=function(){e.updateActivePage(s.c.ADD_TICKET)},a=function(a){e.updateTicketNumberToBeEdited(a),t()},l=Object(n.useState)("Published"),i=Object(c.a)(l,2);return i[0],i[1],r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-full"},r.a.createElement("div",{className:" bg-Slate-200 px-12.5 pb-75"},r.a.createElement("div",{className:"pt-12.5"},r.a.createElement(et.b,{to:"/dashboard/events"},r.a.createElement("img",{alt:"",src:"/images/ic-back-accntsettings.svg",className:""}))),r.a.createElement("div",{className:"pt-6 flex justify-between"},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft8 text-black-50"},"Create Event"),r.a.createElement("div",{className:"flex space-x-8.75"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-darkGrey-50 text-white rounded-full"},"1"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansRegular text-ft4 py-1.5 text-darkGrey-50"},"Event Details")),r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-black-50 text-white rounded-full"},"2"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansSemiBold text-ft4 py-1.5 text-black-50"},"Tickets")),r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-darkGrey-50 text-white rounded-full"},"3"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansRegular text-ft4 py-1.5 text-darkGrey-50"},"Publish")))),r.a.createElement("div",{className:"bg-white mt-9.5 rounded-lg pb-36.5 h-155.25"},r.a.createElement("div",{className:"flex justify-between px-12.5"},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 pt-13"},"Tickets"),r.a.createElement("button",{onClick:t,type:"button",className:"bg-blue-50 rounded-full py-3.75 px-9 text-white font-OpenSansSemiBold text-ft3 mt-10"},"Add Tickets")),r.a.createElement("div",{className:"mt-12.5"},r.a.createElement("div",{className:" w-full rounded-xl bg-white drop-shadow-md"},e&&e.state.tickets.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" h-19 w-full flex items-center pl-12.5 pr-12.5  font-OpenSansSemiBold text-ft3 text-black-50"},r.a.createElement("div",{className:" flex w-full"},r.a.createElement("div",{className:"w-29.75 2xl:w-14per "},"NFT"),r.a.createElement("div",{className:"w-29.75 2xl:w-14per "},"Gift"),r.a.createElement("div",{className:"w-86.5 2xl:w-28per "},"Ticket"),r.a.createElement("div",{className:"w-45.75 2xl:14per "},"Quantity"),r.a.createElement("div",{className:"w-38 2xl:w-14per pl-4"},"Price"),r.a.createElement("div",{className:"w-10 2xl:w-14per "},"Action"))),e.state.tickets.map((function(t,n){return r.a.createElement("span",{key:n},r.a.createElement(dt,{item:t,index:n,editTicket:a,deleteTicket:e.deleteTicket}))}))):r.a.createElement("div",{className:"noRecordFound"},"No Tickets available"))))),r.a.createElement("footer",{className:"fixed bottom-0 left-0 flex justify-end py-5 bg-white w-screen shadow-2xl"},r.a.createElement("button",{className:" rounded-full py-3.75 px-15 text-black-50 border border-darkGrey-50 font-OpenSansSemiBold text-ft3 mr-5",onClick:function(){e.updateActivePage(s.c.BASIC_INFO)}},"Back"),r.a.createElement("button",{className:" rounded-full py-3.75 px-15 text-white font-OpenSansSemiBold text-ft3 mr-12.5 ".concat(e.state.tickets.length>0?"bg-blue-50":"bg-Slate-350"),disabled:e.state.tickets.length<=0,onClick:function(){e.updateActivePage(s.c.SPLITS)}},"Next")))))},pt=a(839),ft=a.n(pt),bt=a(840);var vt=function(e){var t=e.addNewTicket,a=(e.updateActivePage,e.state),l=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].type:"PAID"),i=Object(c.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].name:""),f=Object(c.a)(p,2),b=f[0],v=f[1],g=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].description:a.description),h=Object(c.a)(g,2),E=h[0],x=(h[1],Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].availableForSale:"")),N=Object(c.a)(x,2),w=N[0],y=N[1],O=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].startDate:0),k=Object(c.a)(O,2),S=k[0],T=k[1],j=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].endDate:0),C=Object(c.a)(j,2),A=C[0],P=C[1],I=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].startTime:""),R=Object(c.a)(I,2),B=R[0],_=R[1],L=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].endTime:""),F=Object(c.a)(L,2),G=F[0],M=F[1],U=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].ticketsPerOrder.minQuantity:""),z=Object(c.a)(U,2),H=z[0],Y=z[1],K=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].ticketsPerOrder.maxQuantity:""),W=Object(c.a)(K,2),V=W[0],Q=W[1],J=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].price:""),q=Object(c.a)(J,2),$=q[0],Z=q[1],X=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].gifts.totalGiftsAvailable:""),ee=Object(c.a)(X,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].images:[]),re=Object(c.a)(ne,2),le=re[0],ie=re[1],oe=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].gifts.giftImages:[]),ue=Object(c.a)(oe,2),de=ue[0],me=ue[1],pe=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].ticketNFTImageFile:{}),fe=Object(c.a)(pe,2),be=fe[0],ve=fe[1],ge=Object(n.useState)(null!==a.ticketNumberToBeEdited?a.tickets[a.ticketNumberToBeEdited].giftNFTImageFile:{}),he=Object(c.a)(ge,2),Ee=he[0],xe=he[1],Ne=Object(n.useState)(0),we=Object(c.a)(Ne,2),ye=(we[0],we[1],Object(n.useState)(0)),Oe=Object(c.a)(ye,2),ke=(Oe[0],Oe[1],Object(n.useState)(!0)),Se=Object(c.a)(ke,2),Te=Se[0],je=Se[1],De=Object(n.useState)(!1),Ce=Object(c.a)(De,2),Ae=Ce[0],Pe=Ce[1],Ie=Object(n.useState)("py-3.75 px-15 text-ft3 text-white rounded-lg font-OpenSansRegular bg-blue-50  border"),Re=Object(c.a)(Ie,2),Be=Re[0],_e=Re[1],Le=Object(n.useState)("ml-3.75  py-3.75 px-15 text-ft3 text-black-50 rounded-lg font-OpenSansRegular border-grey-400 border"),Fe=Object(c.a)(Le,2),Ge=Fe[0],Me=Fe[1],Ue=Object(n.useState)(!1),ze=Object(c.a)(Ue,2),He=ze[0],Ye=ze[1],Ke=function(){var e=Object(d.a)(o.a.mark((function e(t,a){var n,r,s,l,i,u,d,m,p,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new FormData,l=[],s.append("image",t[0]),e.next=5,D.a.parseResponse(se(s));case 5:return i=e.sent,u=Object(c.a)(i,2),u[0],d=u[1],s.append("walletAddress",null===(n=window.caver)||void 0===n||null===(r=n.currentProvider)||void 0===r?void 0:r.selectedAddress),e.next=12,D.a.parseResponse(ce(s));case 12:m=e.sent,p=Object(c.a)(m,2),p[0],(f=p[1])&&d?(l.push(f.responseData.contentUploadResponse.ipfsUrl,d.responseData),"ticket"===a?(ie(l),ve(t[0])):(me(l),xe(t[0]))):D.a.apiFailureToast("Image upload failed");case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),We=function(){_e("py-3.75 px-15 text-ft3 text-white rounded-lg font-OpenSansRegular bg-blue-50  border"===Be?"py-3.75 px-15 text-ft3 text-black-50 rounded-lg font-OpenSansRegular border-grey-400  border":"py-3.75 px-15 text-ft3 text-white rounded-lg font-OpenSansRegular bg-blue-50  border"),"ml-3.75  py-3.75 px-15 text-ft3 text-black-50 rounded-lg font-OpenSansRegular border-grey-400 border"===Ge?(Me("ml-3.75  py-3.75 px-15 text-ft3 text-white rounded-lg font-OpenSansRegular bg-blue-50 border"),Ye(!0),m("FREE")):(Me("ml-3.75  py-3.75 px-15 text-ft3 text-black-50 rounded-lg font-OpenSansRegular border-grey-400 border"),Ye(!1),m("PAID"))},Ve=["e","E","+","-","."];return Object(n.useEffect)((function(){null!==a.ticketNumberToBeEdited&&("PAID"===a.tickets[a.ticketNumberToBeEdited].type?(_e("py-3.75 px-15 text-ft3 text-white rounded-lg font-OpenSansRegular bg-blue-50  border"),Me("ml-3.75  py-3.75 px-15 text-ft3 text-black-50 rounded-lg font-OpenSansRegular border-grey-400 border")):(Me("py-3.75 px-15 text-ft3 text-white rounded-lg font-OpenSansRegular bg-blue-50  border"),_e("ml-3.75  py-3.75 px-15 text-ft3 text-black-50 rounded-lg font-OpenSansRegular border-grey-400 border")))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-full"},r.a.createElement("div",{className:" bg-Slate-200 px-12.5 pb-18"},r.a.createElement("div",{className:"pt-12.5"},r.a.createElement(et.b,{to:"/dashboard/events"},r.a.createElement("img",{alt:"",src:"/images/ic-back-accntsettings.svg",className:""}))),r.a.createElement("div",{className:"pt-6 flex justify-between"},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft8 text-black-50"},"Create Event"),r.a.createElement("div",{className:"flex space-x-8.75"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-darkGrey-50  text-white rounded-full"},"1"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansRegular text-ft4 py-1.5 text-darkGrey-50 "},"Event Details")),r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-black-50 text-white rounded-full"},"2"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansSemiBold text-ft4 py-1.5 text-black-50"},"Tickets")),r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-darkGrey-50 text-white rounded-full"},"3"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansRegular text-ft4 py-1.5 text-darkGrey-50"},"Publish")))),r.a.createElement("div",{className:"bg-white pl-12.5 pr-86.5 mt-9.5 rounded-lg pb-77"},r.a.createElement("div",{className:"pt-12.5"},r.a.createElement("img",{alt:"",src:"/images/ic-back-accntsettings.svg",className:"",onClick:function(){e.updateActivePage(s.c.TICKETS)}})),r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 pt-5"},"Add Tickets"),r.a.createElement("div",{className:"flex mt-10"},r.a.createElement("button",{type:"button",className:Be,onClick:We},"Paid"),r.a.createElement("button",{type:"button",className:Ge,onClick:We},"Free")),r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50 mt-10"},"Ticket Type"),r.a.createElement("input",{id:"ticketName",onChange:function(e){return v(e.target.value)},value:b,maxLength:"75",className:"w-full rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"}),r.a.createElement("p",{className:"font-OpenSansRegular text-ft2 mt-2.5 justify-end flex text-darkGrey-50"},"".concat(b.length,"/").concat(75)),""!==b||Te?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-50"},"This field is mandatory"),!He&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50 mt-3.75"},"Ticket Price (in $)"),r.a.createElement("input",{id:"ticketPrice",onChange:function(e){return Z(parseInt(e.target.value))},value:$,type:"number",min:"0",onWheel:function(e){return e.target.blur()},className:"w-full rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"}),0!==$||Te?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-50"},"This field is mandatory")),r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50 mt-3.75"},"Available Quantity"),r.a.createElement("input",{id:"ticketAvailable",onChange:function(e){return y(parseInt(e.target.value))},value:w,type:"number",onWheel:function(e){return e.target.blur()},min:"0",className:"w-full rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"}),""!==w||Te?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-50"},"This field is mandatory"),r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 mt-10"},"When are tickets available?"),r.a.createElement("div",{className:"flex space-x-5 mt-7.5 "},r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50"},"Sale start"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"},r.a.createElement("img",{alt:"",src:"/images/ic-calendar.svg",className:""}),r.a.createElement("input",{id:"saleStartDate",onChange:function(e){return T(e.target.value)},value:S,type:"date",className:"placeholder-black-50  focus:outline-none  flex flex-row-reverse absolute bg-transparent gap-2"})),0!==S||Te?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-50"},"This field is mandatory")),r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50"},"Sale End"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"},r.a.createElement("img",{alt:"",src:"/images/ic-calendar.svg",className:""}),r.a.createElement("input",{id:"saleEndDate",onChange:function(e){return P(e.target.value)},type:"date",value:A,max:a.endDate,className:"placeholder-black-50  focus:outline-none  flex flex-row-reverse absolute bg-transparent gap-2"})),0!==A||Te?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-50"},"This field is mandatory"))),r.a.createElement("div",{className:"flex space-x-5 mt-7.5 "},r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50"},"Start Time"),r.a.createElement("div",{className:"sd-container flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"},r.a.createElement("input",{id:"saleStartTime",onChange:function(e){return _(e.target.value)},value:B,className:"placeholder-black-50 w-full focus:outline-none flex flex-row-reverse",type:"time"})),0!==B||Te?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-50"},"This field is mandatory")),r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50"},"End Time"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"},r.a.createElement("input",{id:"saleEndTime",onChange:function(e){return M(e.target.value)},value:G,className:"placeholder-black-50 w-full focus:outline-none flex flex-row-reverse",type:"time"})),0!==G||Te?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-50"},"This field is mandatory"))),Ae&&r.a.createElement("div",{className:"text-red-50"},"The selected date and time is invalid"),r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 mt-12.5"},"Tickets per order"),r.a.createElement("div",{className:"flex space-x-5 mt-7.5 "},r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50"},"Minimum quantity"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"},r.a.createElement("input",{id:"minQuantity",onChange:function(e){return Y(parseInt(e.target.value))},value:H,type:"number",min:"0",onWheel:function(e){return e.target.blur()},className:"placeholder-black-50  focus:outline-none w-full"}))),r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50"},"Maximum quantity"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"},r.a.createElement("input",{id:"maxQuantity",onChange:function(e){return Q(parseInt(e.target.value))},value:V,type:"number",min:"0",onWheel:function(e){return e.target.blur()},className:"placeholder-black-50 w-full focus:outline-none",placeholder:""})))),w<H||w<V?r.a.createElement("p",{className:"text-red-100"},"Available Quantity should be greater than min. quantity and max. quantity"):r.a.createElement(r.a.Fragment,null),r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 mt-12.5"},"Upload NFT"),r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-100 pt-2.5"},"Upload image for ticket NFT"," "),r.a.createElement(lt,{uploadImageToIPFS:Ke,imageFor:"ticket",chosenFile:be}),r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 mt-12.5"},"Upload Gift"),r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-100 pt-2.5"},"Gifts will be randomly given to participants."),r.a.createElement(lt,{uploadImageToIPFS:Ke,imageFor:"gift",chosenFile:Ee}),r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50 mt-3.75"},"Total Gifts"),r.a.createElement("input",{id:"totalGifts",onChange:function(e){return ae(e.target.value)},onKeyDown:function(e){return Ve.includes(e.key)&&e.preventDefault()},value:te,type:"number",onWheel:function(e){return e.target.blur()},min:"0",className:"w-full rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"}),""!==te||Te?r.a.createElement(r.a.Fragment,null):r.a.createElement("p",{className:"text-red-50"},"This field is mandatory"))),r.a.createElement("footer",{className:"fixed bottom-0 left-0 flex justify-end py-5 bg-white w-screen shadow-2xl"},r.a.createElement("button",{className:" rounded-full py-3.75 px-12 font-OpenSansSemiBold text-ft3 mr-5 text-black-50 border border-darkGrey-50",onClick:function(){e.updateActivePage(s.c.TICKETS)}},"Cancel"),r.a.createElement("button",{className:"bg-blue-50 rounded-full py-3.75 px-15 text-white font-OpenSansSemiBold text-ft3 mr-12.5",onClick:function(){if(""!==u&&""!==b&&""!==w&&""!==S&&""!==A&&""!==B&&""!==G&&0!==$&&""!==te&&w>=H&&w>=V){je(!0);var n=bt.a.getTimezone(a.eventTimezone);if(D.a.dateConstructer(S,B)>=D.a.dateConstructer(A,G))return void Pe(!0);e.updateActivePage(s.c.TICKETS),t({type:u,name:b,description:E,availableForSale:parseInt(w),saleStartDate:Number(new Date(S+" "+B+" "+(ft()().tz(a.eventTimezone).isDST()?n.dstOffsetStr:n.utcOffsetStr))),saleEndDate:Number(new Date(A+" "+G+" "+(ft()().tz(a.eventTimezone).isDST()?n.dstOffsetStr:n.utcOffsetStr))),ticketsPerOrder:{minQuantity:parseInt(H),maxQuantity:parseInt(V)},startDate:S,startTime:B,endDate:A,endTime:G,ticketNftTokenId:1,images:le,gifts:{giftImages:de,giftNftTokenId:11,totalGiftsAvailable:parseInt(te)},price:"PAID"===u?parseInt($):0,ticketNFTImageFile:be,giftNFTImageFile:Ee})}else je(!1)}},"Save")))))};var gt=function(e){var t,a,i,u,m=Object(n.useState)([{role:"Organizer",percentage:0,walletAddress:window.caver.utils.toChecksumAddress(null===(t=window.caver)||void 0===t||null===(a=t.currentProvider)||void 0===a?void 0:a.selectedAddress)}]),p=Object(c.a)(m,2),f=p[0],b=p[1],v=Object(n.useState)([{role:"Organizer",percentage:0,walletAddress:window.caver.utils.toChecksumAddress(null===(i=window.caver)||void 0===i||null===(u=i.currentProvider)||void 0===u?void 0:u.selectedAddress)},{role:"Other",percentage:0,walletAddress:""},{role:"Promoters",percentage:0,walletAddress:""},{role:"Distributor",percentage:0,walletAddress:""},{role:"Artist",percentage:0,walletAddress:""}]),g=Object(c.a)(v,2),h=g[0],E=g[1],x=Object(n.useState)(""),N=Object(c.a)(x,2),w=N[0],y=N[1],O=Object(n.useState)(""),k=Object(c.a)(O,2),S=k[0],T=k[1],j=Object(n.useState)(""),D=Object(c.a)(j,2),C=D[0],A=D[1],P=function(e,t,a){var n=Object(l.a)(f);"percentage"===e&&(n[a][e]=parseInt(t)),"walletAddress"===e?window.caver.utils.isAddress(t)?(n[a][e]=window.caver.utils.toChecksumAddress(t),A("")):A("The edited string is not a valid Klaytn address"):n[a][e]=t,n[a][e]="percentage"===e?parseInt(t):t,b(n)},I=function(){var t=Object(d.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=f.reduce((function(e,t){return e+t.percentage}),0),f.map((function(e){return e.walletAddress})).filter((function(e,t,a){return a.indexOf(e)===t})).length===f.length){t.next=6;break}return y(""),T("Wallet addresses of all the contributors should be distinct"),t.abrupt("return");case 6:if(100===a){t.next=10;break}return T(""),y("The sum of the percentages of all the contributors should exactly be 100"),t.abrupt("return");case 10:if(""===C){t.next=15;break}y(""),T(""),t.next=19;break;case 15:return T(""),y(""),t.next=19,e.createEvent(f);case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-full"},r.a.createElement("div",{className:" bg-Slate-200 px-12.5 pb-36.5"},r.a.createElement("div",{className:"pt-12.5"},r.a.createElement("img",{alt:"",src:"/images/ic-back-accntsettings.svg",className:""})),r.a.createElement("div",{className:"pt-6 flex justify-between"},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft8 text-black-50"},"Create Event"),r.a.createElement("div",{className:"flex space-x-8.75"},r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-darkGrey-50 text-white rounded-full"},"1"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansSemiBold text-ft4 py-1.5 text-darkGrey-50"},"Event Details")),r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-darkGrey-50 text-white rounded-full"},"2"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansRegular text-ft4 py-1.5 text-darkGrey-50"},"Tickets")),r.a.createElement("div",{className:"flex"},r.a.createElement("p",{className:"px-2.75 py-1.5 text-ft4 font-OpenSansRegular bg-black-50 text-white rounded-full"},"3"),r.a.createElement("p",{className:"ml-2.5 font-OpenSansRegular text-ft4 py-1.5 text-black-50"},"Publish")))),r.a.createElement("div",{className:"bg-white pl-12.5  mt-9.5 rounded-lg pb-30  mb-20"},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 pt-12.5"},"Role and Economic Splits"),r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-100 pt-2.5"},"Revenue % for the contributors."),f.map((function(e,t){return r.a.createElement("div",{className:"flex space-x-5 mt-10 mr-57.75"},r.a.createElement("div",{className:"flex flex-col w-75"},r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-50"},"Role"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"},r.a.createElement("input",{onChange:function(e){return P("role",e.target.value,t)},value:e.role,className:"text-black-50 w-full focus:outline-none",readOnly:!0}))),r.a.createElement("div",{className:"flex flex-col w-75"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50"},"Percentage"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3"},r.a.createElement("input",{type:"number",onChange:function(e){return P("percentage",e.target.value,t)},className:"text-black-50 w-full focus:outline-none"}))),r.a.createElement("div",{className:"flex flex-col w-75"},r.a.createElement("p",{className:"font-OpenSansSemiBold text-ft3 text-darkGrey-50"},"Wallet Address"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 pr-5 py-3.25 font-OpenSansRegular text-ft3"},r.a.createElement("input",{onChange:function(e){return P("walletAddress",e.target.value,t)},value:e.walletAddress,className:"text-black-50 w-full focus:outline-none",readOnly:0===t}))),0===t?"":r.a.createElement("button",{className:"font-OpenSansSemiBold text-ft2 text-darkGrey-50 w-65 flex j gap-2 mt-12.5",onClick:function(){!function(e){if(0!==e){var t=Object(l.a)(f),a=Object(l.a)(h);t.splice(e,1),a.push(f[e]),b(t),E(a)}}(t)}},r.a.createElement("img",{alt:"",src:"/images/ic-delete.svg",className:""}),"Delete role"))})),r.a.createElement("button",{className:"font-OpenSansSemiBold text-ft3 flex mt-7.5 text-blue-50 gap-2.5",onClick:function(){if(f.length<5){var e=Object(l.a)(f),t=Object(l.a)(h);e.push(h[h.length-1]),t.splice(h.length-1,1),b(e),E(t)}}},r.a.createElement("img",{alt:"",src:"/images/ic-addmore.svg",className:""})," Add Role"),r.a.createElement("p",{className:"text-red-50"},w),r.a.createElement("p",{className:"text-red-50"},S),r.a.createElement("p",{className:"text-red-50"},C),r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft6 text-black-50 pt-12.5"},"Secondary Sale Royalties"),r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-100 pt-2.5"},"Percentage you can get when someone resell your event."),r.a.createElement("div",{className:"flex flex-col w-full pt-12.5"},r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-50"},"Royalty percentage"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3 mr-87.75"},r.a.createElement("input",{type:"number",min:"0",id:"royaltyPercentage",onChange:function(t){return e.handleChange(t)},value:e.state.royaltyPercentage,className:"text-black-50 w-full focus:outline-none"}))),r.a.createElement("div",{className:"flex flex-col w-full pt-12.5"},r.a.createElement("p",{className:"font-OpenSansRegular text-ft3 text-darkGrey-50"},"Royalty Wallet Address"),r.a.createElement("div",{className:"flex rounded-lg border-grey-400 border focus:outline-none mt-4 pl-5 py-3.25 font-OpenSansRegular text-ft3 mr-87.75"},r.a.createElement("input",{id:"royaltyWalletAddress",onChange:function(t){return e.handleChange(t)},value:e.state.royaltyWalletAddress,className:"text-black-50 w-full focus:outline-none"}))))),r.a.createElement("footer",{className:"fixed bottom-0 left-0 flex justify-end py-5 bg-white w-screen shadow-2xl"},r.a.createElement("button",{className:" rounded-full py-3.75 px-15 text-black-50 border border-darkGrey-50 font-OpenSansSemiBold text-ft3 mr-5",onClick:function(){e.updateActivePage(s.c.TICKETS)}},"Back")," ",e.state.isPublishing?r.a.createElement("button",{className:"bg-blue-50 rounded-full py-3.75 px-12.5 text-white font-OpenSansSemiBold text-ft3 mr-12.5"},"Minting..."):r.a.createElement("button",{className:"bg-blue-50 rounded-full py-3.75 px-12.5 text-white font-OpenSansSemiBold text-ft3 mr-12.5",onClick:I},"Mint")))))};var ht=function(e){var t=e.isLoading,a=e.eventName;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"fixed inset-0 z-0  bg-darkGrey-100 bg-opacity-70 flex justify-center pt-59.75"},r.a.createElement("div",{className:"z-20 flex flex-col justify-center h-72.25 w-125 bg-white rounded-lg -mx-5 px-12"},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft7 text-center text-slate-350"},"Minting of ticket NFTs for ".concat(a," on Klaytn is in progress...")),r.a.createElement("div",{className:"flex justify-center mt-8"},r.a.createElement(Ie.a,null)))):null)},Et=function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).updateActivePage=function(e){e===s.c.TICKETS&&n.setState({ticketNumberToBeEdited:null}),n.setState({activePage:e,isPublishing:!1})},n.createEvent=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,s,l,i,u,d,m,p,f,b,v,g,h,E,x,N;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(a=window.caver)||void 0===a||null===(r=a.currentProvider)||void 0===r?void 0:r.selectedAddress){e.next=3;break}return D.a.apiFailureToast("You are not connected to your Kaikas wallet!"),e.abrupt("return");case 3:return e.next=5,n.setState({splits:t,isPublishing:!0});case 5:for(f=n.state.tickets,b=0;b<f.length;b++)f[b].ticketNftTokenId=b+1,f[b].gifts.giftNftTokenId=parseInt(b+1+"1");return v=bt.a.getTimezone(n.state.eventTimezone),g={creatorId:null===(s=n.props)||void 0===s||null===(l=s.user)||void 0===l||null===(i=l.userDetails)||void 0===i?void 0:i.userId,name:n.state.name,description:n.state.description,startTime:Number(new Date(n.state.startDate+" "+n.state.startTime+" "+(ft()().tz(n.state.eventTimezone).isDST()?v.dstOffsetStr:v.utcOffsetStr))),endTime:Number(new Date(n.state.endDate+" "+n.state.endTime+" "+(ft()().tz(n.state.eventTimezone).isDST()?v.dstOffsetStr:v.utcOffsetStr))),image:n.state.image,tickets:f,ownerWalletAddress:window.caver.utils.toChecksumAddress(null===(u=window.caver)||void 0===u||null===(d=u.currentProvider)||void 0===d?void 0:d.selectedAddress),splits:n.state.splits,royaltyPercentage:parseInt(n.state.royaltyPercentage),royaltyWalletAddress:window.caver.utils.toChecksumAddress(n.state.royaltyWalletAddress),category:n.state.category,location:n.state.location,videoConferenceLink:n.state.videoConferenceLink,venueLocation:n.state.venueLocation,eventTimezone:n.state.eventTimezone,network:8217===(null===(m=window.caver)||void 0===m||null===(p=m.currentProvider)||void 0===p?void 0:p.networkVersion)?"Cypress":"Baobab"},e.next=11,D.a.parseResponse(te(g));case 11:if(h=e.sent,E=Object(c.a)(h,2),x=E[0],N=E[1],x||!N){e.next=20;break}return e.next=18,n.deployEventSmartContract(N);case 18:e.next=23;break;case 20:n.setState({isPublishing:!1}),D.a.apiFailureToast("Contract creation failed!"),D.a.apiFailureToast("Check the details on the Splits page");case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deployEventSmartContract=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,l,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.caver.currentProvider.enable(),e.next=3,window.caver.klay.getGasPrice();case 3:return l=e.sent,c=t.contractByteCode,i={from:null===(a=window.caver)||void 0===a||null===(r=a.currentProvider)||void 0===r?void 0:r.selectedAddress,gas:792e4,gasPrice:l,data:c},e.next=8,window.caver.klay.sendTransaction(i).on("transactionHash",(function(e){})).on("error",(function(e){})).on("receipt",function(){var e=Object(d.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t._id,contractAddress:a.contractAddress,transactionHash:a.transactionHash,contractDeploymentStatus:s.i.DEPLOYED},e.next=3,this.updateEventAfterDeployment(n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(Object(ke.a)(n)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateEventAfterDeployment=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.parseResponse(ne(t));case 2:a=e.sent,r=Object(c.a)(a,2),r[0],l=r[1],n.setState({isPublishing:!1}),l?(D.a.apiSuccessToast("Event created successfully"),Ne.a.push(s.g.EVENTS)):D.a.apiFailureToast("Could not create the Event");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.updateVenueLocation=function(e){n.setState({venueLocation:e})},n.addNewTicket=function(e){var t=n.state.tickets;null!==n.state.ticketNumberToBeEdited?t[n.state.ticketNumberToBeEdited]=e:t.push(e),n.setState({tickets:t,ticketNumberToBeEdited:null})},n.checkBasicInfo=function(){var e=D.a.dateConstructer(n.state.startDate,n.state.startTime),t=D.a.dateConstructer(n.state.endDate,n.state.endTime);if(""===n.state.name||""===n.state.description||0===n.state.startDate||0===n.state.endDate||0===n.state.startTime||0===n.state.endTime||""===n.state.image||""===n.state.venueLocation.venue&&""===n.state.videoConferenceLink||""===n.state.category||""===n.state.eventTimezone)return n.setState({basicDetailsFilled:!1}),!1;if(e>=t)n.setState({isValidDate:!0});else{if(!(new Date>=e))return n.setState({isValidDate:!1}),n.setState({basicDetailsFilled:!0}),!0;n.setState({isValidDate:!0})}},n.uploadEventImage=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("image",t[0]),e.next=4,D.a.parseResponse(se(a));case 4:r=e.sent,s=Object(c.a)(r,2),s[0],(l=s[1])?n.setState({image:l.responseData,eventImageFile:t[0]}):D.a.apiFailureToast("Image upload failed");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateTicketNumberToBeEdited=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({ticketNumberToBeEdited:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteTicket=function(){var e=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=n.state.tickets).splice(t,1),n.setState({tickets:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateLocationType=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({location:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getCategories=Object(d.a)(o.a.mark((function e(){var t,a,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.parseResponse(de());case 2:t=e.sent,a=Object(c.a)(t,2),r=a[0],(s=a[1])&&!r&&n.setState({categoryList:s});case 7:case"end":return e.stop()}}),e)}))),n.deleteEventImage=function(){n.setState({image:"",eventImageFile:{}})},n.state={activePage:s.c.BASIC_INFO,basicDetailsFilled:!0,creatorId:"",name:"",description:"",startDate:"",endDate:"",startTime:"",endTime:"",image:"",eventImageFile:{},tickets:[],splits:[],royaltyPercentage:"",royaltyWalletAddress:"",location:"VENUE",category:"",venueLocation:{country:"",state:"",pincode:"",city:"",venue:""},videoConferenceLink:"",walletAddress:JSON.parse(Ue.a.getDataFromCookies(s.l.USER_DETAILS))||"",isValidDate:!1,ticketNumberToBeEdited:null,isPublishing:!1,eventTimezone:"",categoryList:[]},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCategories();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;switch(D.a.checkPermission(s.a.EVENTS,null===(e=this.props.user)||void 0===e?void 0:e.userDetails)||Ne.a.replace(s.g.USER_MANAGEMENT),this.state.activePage){case s.c.BASIC_INFO:return r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{handleChange:this.handleChange,updateActivePage:this.updateActivePage,updateVenueLocation:this.updateVenueLocation,checkBasicInfo:this.checkBasicInfo,uploadEventImage:this.uploadEventImage,updateLocationType:this.updateLocationType,deleteEventImage:this.deleteEventImage,state:this.state}));case s.c.TICKETS:return r.a.createElement(mt,{updateActivePage:this.updateActivePage,updateTicketNumberToBeEdited:this.updateTicketNumberToBeEdited,deleteTicket:this.deleteTicket,state:this.state});case s.c.ADD_TICKET:return r.a.createElement(vt,{addNewTicket:this.addNewTicket,updateActivePage:this.updateActivePage,state:this.state});case s.c.SPLITS:return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{updateActivePage:this.updateActivePage,createEvent:this.createEvent,handleChange:this.handleChange,state:this.state}),r.a.createElement(ht,{isLoading:this.state.isPublishing,eventName:this.state.name}));default:return}}}]),a}(v.a),xt=Object(j.b)((function(e){return{user:e.user}}))(Et),Nt=a(12);var wt=function(e){var t,a,s,l,i,o,u,d,m,p=e.item,f=(e.handleChange,Object(n.useState)(!1)),b=Object(c.a)(f,2),v=(b[0],b[1]);return r.a.createElement(Ge,{setIsOpen:v},r.a.createElement("tr",{className:"h-19.75 w-full pl-7.5 pr-12.5 flex justify-between items-center border-b border-grey-50 font-OpenSansRegular text-left text-ft3 text-black-50 "},r.a.createElement("td",{className:"w-15per break-all truncate"},function(e){for(var t=e.toLowerCase().split(" "),a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].substring(1);return t.join(" ")}(null===p||void 0===p||null===(t=p.buyer)||void 0===t?void 0:t.name)),r.a.createElement("td",{className:"w-15per break-all truncate"},null===p||void 0===p||null===(a=p.event)||void 0===a?void 0:a.name),r.a.createElement("td",{className:"w-15per break-all truncate"},null===p||void 0===p||null===(s=p.buyer)||void 0===s?void 0:s.email),r.a.createElement("td",{className:"w-15per break-all truncate"},null===p||void 0===p||null===(l=p.buyer)||void 0===l?void 0:l.phone),r.a.createElement("td",{className:"w-15per break-all truncate"},(null===p||void 0===p||null===(i=p.ticket)||void 0===i||null===(o=(u=i.type).charAt)||void 0===o?void 0:o.call(u,0).toUpperCase())+(null===p||void 0===p||null===(d=p.ticket)||void 0===d?void 0:d.type.slice(1).toLowerCase())),r.a.createElement("td",{className:"w-10per break-all truncate"},null===p||void 0===p?void 0:p.numberOfTickets),r.a.createElement("td",{className:"w-10per break-all truncate"},null===p||void 0===p||null===(m=p.ticket)||void 0===m?void 0:m.price)))};var yt=function(e){var t=e.handleChange,a=e.selectedUser,n=e.blockUser,s=e.open;return r.a.createElement(r.a.Fragment,null,s?r.a.createElement("div",{class:"fixed inset-0 z-0  bg-darkGrey-100 bg-opacity-70 flex justify-center pt-59.75"},r.a.createElement("div",{className:" z-20 flex flex-col justify-center h-72.25 w-125 bg-white rounded-lg -mx-5 "},r.a.createElement("h1",{className:"font-OpenSansSemiBold text-ft7 text-left pl-13 text-black-50 pt-12.5"},"Are you sure you want to block this user?"),r.a.createElement("p",{className:"pt-5 mb-12.5 font-OpenSansRegular text-ft4 text-darkGrey-100  text-center"},null===a||void 0===a?void 0:a.name),r.a.createElement("div",{className:"flex mx-10 space-x-5 w-full"},r.a.createElement("button",{className:" bg-white border border-darkGrey-50 px-18.5 w-50 h-17.5 text-ft4 text-black-50 rounded-full font-OpenSansSemiBold mb-12.5",onClick:function(){t("selectedUser",{}),t("openConfimation",!1)}},"Cancel"),r.a.createElement("button",{className:" bg-blue-50 px-18.5 w-50 h-17.5 text-ft4 text-white rounded-full font-OpenSansSemiBold mb-12.5",onClick:function(){return n()}},"Proceed")))):null)};var Ot=function(e){var t,a,l,i,o,u,d,m,p=e.item,f=e.user,b=e.deleteUser,v=(e.onEditClick,Object(n.useState)(!1)),g=Object(c.a)(v,2),h=g[0],E=g[1],x=Object(n.useRef)();return Object(n.useEffect)((function(){var e=function(e){h&&x.current&&!x.current.contains(e.target)&&E(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[h]),r.a.createElement(Ge,{setIsOpen:E},(null===f||void 0===f?void 0:f.role)===s.h.ORGANISER?r.a.createElement("tr",{className:"h-19.75 w-full pl-7.5 pr-12.5 flex justify-between items-center border-b border-grey-50 font-OpenSansRegular text-left text-ft3 text-black-50 "},r.a.createElement("td",{className:"w-15per break-all truncate"},null===p||void 0===p?void 0:p.name),r.a.createElement("td",{className:"w-15per break-all truncate"},null===p||void 0===p?void 0:p.email),r.a.createElement("td",{className:"w-15per break-all truncate"},null===p||void 0===p?void 0:p.phone),r.a.createElement("td",{className:"w-17.2per capitalize break-all truncate"},(null===p||void 0===p||null===(t=p.permissions)||void 0===t||null===(a=(l=t.join(", ")).charAt)||void 0===a?void 0:a.call(l,0).toUpperCase())+(null===p||void 0===p||null===(i=p.permissions)||void 0===i?void 0:i.join(", ").slice(1).toLowerCase())),(null===f||void 0===f?void 0:f.role)===s.h.ORGANISER&&r.a.createElement("td",{className:"",ref:x,onClick:function(){return E(!h)}},r.a.createElement("img",{alt:"",src:"/images/ic-action.svg",className:"cursor-pointer pr-9 "}),h&&r.a.createElement("div",{className:"absolute right-4 w-53.75 shadow-xl py-2.5 bg-white"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:" h-14 flex items-center pl-6 my-1 font-OpenSansRegular   text-ft3 text-left text-black-50 cursor-pointer hover:bg-Slate-100 w-full",onClick:function(){return b(p.userId)}},"Delete"))))):r.a.createElement("tr",{className:"h-19.75 w-full pl-7.5 pr-12.5 flex justify-between items-center border-b border-grey-50 font-OpenSansRegular text-left text-ft3 text-black-50 "},r.a.createElement("td",{className:"w-15per"},null===p||void 0===p?void 0:p.name),r.a.createElement("td",{className:"w-15per"},null===p||void 0===p?void 0:p.email),r.a.createElement("td",{className:"w-15per"},null===p||void 0===p?void 0:p.phone),r.a.createElement("td",{className:"w-15per capitalize"},(null===p||void 0===p||null===(o=p.permissions)||void 0===o||null===(u=(d=o.join(", ")).charAt)||void 0===u?void 0:u.call(d,0).toUpperCase())+(null===p||void 0===p||null===(m=p.permissions)||void 0===m?void 0:m.join(", ").slice(1).toLowerCase())),(null===f||void 0===f?void 0:f.role)===s.h.ORGANISER&&r.a.createElement("td",{className:"",ref:x,onClick:function(){return E(!h)}},r.a.createElement("img",{alt:"",src:"/images/ic-action.svg",className:"cursor-pointer pr-9 "}),h&&r.a.createElement("div",{className:"absolute right-4 w-53.75 shadow-xl py-2.5 bg-white"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:" h-14 flex items-center pl-6 my-1 font-OpenSansRegular   text-ft3 text-left text-black-50 cursor-pointer hover:bg-Slate-100 w-full",onClick:function(){return b(p.userId)}},"Delete"))))))};function kt(e){var t=e.state,a=e.updateUser,l=e.handleChange,i=e.open,o=e.addAdminUser,u=t.selectedSubOrganiser,d=function(e,t){var a=u;if(e)a.permissions.push(t);else{var n=a.permissions.findIndex((function(e){return e===t}));a.permissions.splice(n,1)}l("selectedSubOrganiser.permissions",a.permissions)},m=function(){l("showEditAddModel",!1),l("selectedSubOrganiser",new qe.a),t.isEdit&&l("isEdit",!1)},p=Object(n.useState)(""),f=Object(c.a)(p,2),b=f[0],v=f[1],g=Object(n.useState)(""),h=Object(c.a)(g,2),E=h[0],x=h[1],N=Object(n.useState)(""),w=Object(c.a)(N,2),y=w[0],O=w[1],k=Object(n.useState)(""),S=Object(c.a)(k,2),T=S[0],j=S[1];function C(){(function(){var e=(null===u||void 0===u?void 0:u.name)?"":"Enter the name",t=(null===u||void 0===u?void 0:u.email)&&D.a.validateEmail(null===u||void 0===u?void 0:u.email)?"":"Enter valid email address",a=(null===u||void 0===u?void 0:u.phone)&&D.a.validatePhone(null===u||void 0===u?void 0:u.phone)?"":"Enter the Phone no",n=(null===u||void 0===u?void 0:u.permissions.length)?"":"Select At Least One Feature";return v(e),x(t),O(a),j(n),!(a||t||e||n)})()&&(t.isEdit?a():o())}return r.a.createElement(Ie.b,{className:"  bg-white bg-opacity-5 flex justify-center pt-12.5  ",open:i,handleClose:function(){return m()}},r.a.createElement("div",{className:"h-auto  w-auto  bg-white rounded-lg px-5 py-5 "},r.a.createElement("div",{className:"flex flex-row  mt-8"},r.a.createElement("h1",{className:"text-ft6 font-semibold  ml-50"},t.isEdit?"Update User":"Add Sub Organizers"),r.a.createElement("button",{className:"ml-40",onClick:function(){return m()}},r.a.createElement("img",{alt:"close-icon",src:"/images/ic-close.svg"}))),r.a.createElement("div",null,r.a.createElement("h1",{className:"mt-10 font-ft3 text-left font-OpenSansSemiBold  text-darkGrey-50"},"Full Name"),r.a.createElement("input",{type:"text",placeholder:"Enter the full name",className:"mt-3.75 w-139.25  h-11.25  rounded-lg border-grey-400 border focus:outline-none pl-3 ",value:null===u||void 0===u?void 0:u.name,onChange:function(e){l("selectedSubOrganiser.name",e.target.value),v()},maxLength:20}),b&&r.a.createElement("div",{className:"errorMessage"},b)),r.a.createElement("div",{className:"flex mt-10"},r.a.createElement("div",null,r.a.createElement("h1",{className:"font-ft3 text-left text-darkGrey-50 font-OpenSansSemiBold "},"Email Address"),r.a.createElement("input",{type:"text",placeholder:"Enter the email address",className:"mt-3 w-67.5 mr-4 h-11.25 rounded-lg border-grey-400 border focus:outline-none pl-3",value:null===u||void 0===u?void 0:u.email,onChange:function(e){l("selectedSubOrganiser.email",e.target.value.toLowerCase()),x()},maxLength:200}),E&&r.a.createElement("div",{className:"errorMessage"},E)),r.a.createElement("div",null,r.a.createElement("h1",{className:"font-ft3 text-left text-darkGrey-50 font-OpenSansSemiBold "},"Mobile Number"),r.a.createElement("input",{pattern:"[1-9]*",type:"text",placeholder:"Enter the mobile number",className:"mt-3  w-67.5 h-11.25  rounded-lg border-grey-400 border focus:outline-none pl-3",value:null===u||void 0===u?void 0:u.phone,onChange:function(e){l("selectedSubOrganiser.phone",e.target.value.replace(/\D/,"")),O()},maxLength:14}),y&&r.a.createElement("div",{className:"errorMessage"},y))),r.a.createElement("div",null,r.a.createElement("h1",{className:"mt-6 min-w-min text-ft4 font-OpenSansSemiBold text-black-50 "},"Features"),r.a.createElement("p1",{className:"mt-2.5 text-ft3 w-auto text-darkGrey-100 font-OpenSansRegular"},"Choose which features the user has access to")),r.a.createElement("div",{className:"flex mt-7.5 "},r.a.createElement("div",{className:"flex w-auto"},r.a.createElement("input",{type:"checkbox",className:"w-5 h-5 checked",checked:null===u||void 0===u?void 0:u.permissions.includes(s.b.DASHBOARD),onChange:function(e){d(e.target.checked,s.b.DASHBOARD),j()}}),r.a.createElement("h1",{className:"ml-2.5 text-ft3 text-left font-OpenSansRegular  "},"Dashboard")),r.a.createElement("div",{className:"flex ml-5"},r.a.createElement("input",{type:"checkbox",className:"w-5 h-5 checked",checked:null===u||void 0===u?void 0:u.permissions.includes(s.b.MESSAGE),onChange:function(e){return d(e.target.checked,s.b.MESSAGE)}}),r.a.createElement("h1",{className:"ml-2.5 text-ft3 text-left font-OpenSansRegular  "},"Messages")),r.a.createElement("div",{className:"flex ml-5"},r.a.createElement("input",{type:"checkbox",className:"w-5 h-5 checked",checked:null===u||void 0===u?void 0:u.permissions.includes(s.b.EVENTS),onChange:function(e){return d(e.target.checked,s.b.EVENTS)}}),r.a.createElement("h1",{className:"ml-2.5 text-ft3 text-left font-OpenSansRegular  "},"Events"))),T&&r.a.createElement("div",{className:"errorMessage"},T),r.a.createElement("div",{className:"flex justify-center my-10"},r.a.createElement("div",{className:"border rounded-full border-grey-400 mt-8  w-50 h-17.5"},r.a.createElement("p",{className:" text-center mt-5 text-ft4 font-OpenSansSemiBold cursor-pointer text-black-50",onClick:function(){return m()}},"Cancel")),r.a.createElement("div",{className:"border rounded-full border-grey-400 bg-blue-50 mt-8 ml-5 w-50 h-17.5 "},r.a.createElement("p",{onClick:function(){return C()},className:"text-center mt-5 text-ft4 font-OpenSansSemiBold text-white cursor-pointer"},t.isEdit?"Update":"Add")))))}var St=a(1222);var Tt=function(e){var t,a,l=e.state,i=e.user,o=e.searchUser,u=e.handleChange,d=e.getListByPage,m=e.blockUser,p=e.sortByName,f=e.deleteUser,b=e.onEditClick,v=e.updateUser,g=e.addAdminUser,h=function(){var e=l.buyers.sort((function(e,t){return e.buyer.name.toLowerCase()>t.buyer.name.toLowerCase()?1:-1}));p(e)},E=Object(n.useState)(r.a.createElement(N.a,{color:"#395FF1"})),x=Object(c.a)(E,2),w=x[0],y=x[1];return Object(n.useEffect)((function(){setTimeout((function(){y("No Record Found")}),5e3)}),[]),r.a.createElement("div",{className:"bg-Slate-200 p-12.5 flex flex-col min-h-screen"},l.showEditAddModel?r.a.createElement(kt,{state:l,open:l.showEditAddModel,updateUser:v,addAdminUser:g,handleChange:u,handleClose:function(){return u("showEditAddModel",!1)}}):null,r.a.createElement("div",{className:" text-ft8 font-OpenSansSemiBold text-left text-black-50"},"User Management"),r.a.createElement("div",{className:"flex justify-between items-center"},r.a.createElement("ul",{className:"flex flex-wrap -mb-px text-ft4 text-left border-b-3 border-grey-50 w-77",role:"tablist"},r.a.createElement("li",{className:""},r.a.createElement("button",{onClick:function(){return u("selectedTab","USERS")},className:"inline-block text-left mt-7.5 -mb-1 pb-6.25   w-36 ".concat("USERS"===l.selectedTab?"border-b-3   text-blue-50 border-transparent border-blue-50":"")},"Sales by Customer")),r.a.createElement("li",{className:""},r.a.createElement("button",{onClick:function(){return u("selectedTab","ADMINS")},className:"inline-block text-left mt-7.5 -mb-1 pb-6.25 ml-8 pl-1 w-32 ".concat("ADMINS"===l.selectedTab?"border-b-3 text-blue-50 border-transparent border-blue-50":"")},"Sub Organizers"))),l&&"ADMINS"===l.selectedTab?r.a.createElement("button",{onClick:function(){u("showEditAddModel",!0),u("selectedSubOrganiser",new qe.a)},className:"flex items-center h-12.5 w-53.75 font-OpenSansSemiBold text-ft3 text-white bg-blue-50 rounded-full "},r.a.createElement("img",{alt:"",src:"/images/ic-create.svg",className:" pr-2.5  pl-7 "}),"Add Sub Organizers"):r.a.createElement("button",{onClick:function(){var e=l.buyers.map((function(e){return{Name:e.buyer.name,Email:e.buyer.email,Phone:e.buyer.phone,Event:e.event.name,"Ticket Type":e.ticket.type,"No of Tickets":e.noOfTickets}}));new St.ExportToCsv({fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:"Sales by Customer",useTextFile:!1,useBom:!0,useKeysAsHeaders:!0,filename:"CustomerData"}).generateCsv(e)},className:"flex items-center h-12.5 px-3 font-OpenSansSemiBold text-ft3 text-white bg-blue-50 rounded-full "},"Export Users")),r.a.createElement("div",{className:"flex justify-between items-center mt-10"},r.a.createElement(Te,{value:l.searchQuery,onSubmit:o,handleChange:u})),r.a.createElement("div",{className:"rounded-xl bg-white drop-shadow-md pb-3.75 pt-3.75 mt-7.5 w-full overflow-auto"},r.a.createElement("table",{className:"w-full h-129.75"},r.a.createElement("tbody",{className:" rounded-xl bg-white drop-shadow-md  w-full "},"USERS"===l.selectedTab&&r.a.createElement("tr",{onClick:h,className:"h-19.75 w-full pl-7.5  pr-12.5   flex justify-between items-center border-b border-grey-50 text-left "},r.a.createElement(O,{className:" w-15per truncate break-all",handleSorting:function(){return u("sortingKey","buyer.name")},title:"Name",classes:"w-15per whitespace-nowrap font-OpenSansSemiBold text-ft3 text-black-50 "}),r.a.createElement(O,{className:" w-15per",handleSorting:function(){return u("sortingKey","event.name")},title:"Event",classes:"w-15per whitespace-nowrap\tfont-OpenSansSemiBold text-ft3 text-black-50 "}),r.a.createElement(O,{className:" w-15per",handleSorting:function(){return u("sortingKey","buyer.email")},title:"Email",classes:"w-15per whitespace-nowrap\tfont-OpenSansSemiBold text-ft3 text-black-50 "}),r.a.createElement(O,{className:" w-15per",handleSorting:function(){return u("sortingKey","buyer.phone")},title:"Mobile Number",classes:"w-15per whitespace-nowrap\tfont-OpenSansSemiBold text-ft3 text-black-50 "}),r.a.createElement(O,{className:" w-15per",handleSorting:function(){return u("sortingKey","ticket.type")},title:"Ticket Type",classes:"w-15per whitespace-nowrap\tfont-OpenSansSemiBold text-ft3 text-black-50 "}),r.a.createElement(O,{className:" w-15per",handleSorting:function(){return u("sortingKey","numberOfTickets")},title:"Quantity",classes:"w-10per whitespace-nowrap font-OpenSansSemiBold text-ft3 text-black-50 "}),r.a.createElement(O,{className:" w-15per",handleSorting:function(){return u("sortingKey","ticket.price")},title:"Price",classes:"w-10per whitespace-nowrap font-OpenSansSemiBold text-ft3 text-black-50 "})),"ADMINS"===l.selectedTab&&r.a.createElement("tr",{onClick:h,className:"h-19.75 w-full pl-7.5  pr-12.5  flex justify-between items-center border-b border-grey-50 text-left "},r.a.createElement(O,{className:"w-15per break-all truncate",handleSorting:function(){return u("sortingKey","name")},title:"Name",classes:"w-15per whitespace-nowrap font-OpenSansSemiBold text-ft3 text-black-50 "}),r.a.createElement(O,{className:"3xl:w-25per w-15per break-all truncate",handleSorting:function(){return u("sortingKey","email")},title:"Email",classes:"w-15per whitespace-nowrap\tfont-OpenSansSemiBold text-ft3 text-black-50 "}),r.a.createElement(O,{className:"w-15per break-all truncate",handleSorting:function(){return u("sortingKey","phone")},title:"Mobile Number",classes:"w-15per whitespace-nowrap\tfont-OpenSansSemiBold text-ft3 text-black-50 "}),(null===i||void 0===i?void 0:i.role)===s.h.ORGANISER?r.a.createElement(O,{className:"w-15per break-all truncate",handleSorting:function(){return u("sortingKey","permissions")},title:"Permissions",classes:"w-17.2per whitespace-nowrap\tfont-OpenSansSemiBold text-ft3 text-black-50 "}):r.a.createElement(O,{className:"w-15per break-all truncate",handleSorting:function(){return u("sortingKey","permissions")},title:"Permissions",classes:"w-15per whitespace-nowrap\tfont-OpenSansSemiBold text-ft3 text-black-50"}),(null===i||void 0===i?void 0:i.role)===s.h.ORGANISER&&r.a.createElement("td",{className:" whitespace-nowrap\tfont-OpenSansSemiBold text-ft3 text-black-50"},"Action")),l&&"USERS"===l.selectedTab&&l.buyers.length?l.buyers.map((function(e,t){return r.a.createElement(wt,{key:t,item:e,blockUser:m,state:l,handleChange:u})})):"USERS"===l.selectedTab&&r.a.createElement("div",{className:"noRecordFound pt-32"}," ",w),l&&"ADMINS"===l.selectedTab&&(null===(t=l.admins)||void 0===t?void 0:t.length)?l.admins.map((function(e,t){return r.a.createElement(Ot,{key:t,item:e,deleteUser:f,onEditClick:b,state:l,user:i,handleChange:u})})):"ADMINS"===l.selectedTab&&r.a.createElement("div",{className:"noRecordFound pt-32"},w))),l.openConfimation?r.a.createElement(yt,{selectedUser:l.selectedUser,open:l.openConfimation,blockUser:m,handleChange:u}):null),r.a.createElement("div",{style:{display:0===l.buyers.length?"none":""},className:"mb-10"},r.a.createElement(Se,{numberOfPages:Math.ceil(l.total/l.limit),currentPage:l.total?Math.round(l.total/l.limit)-Math.round((l.total-l.skip)/l.limit)+1:0,total:l.total,getListByPage:d,numberOfItems:null===l||void 0===l||null===(a=l.buyers)||void 0===a?void 0:a.length})," "))},jt=function(){function e(t){if(Object(m.a)(this,e),this.buyer={_id:"",name:"",email:"",image:"",phone:""},this.event={_id:"",name:"",image:""},this.numberOfTickets=0,this.ticket={_id:"",type:"",price:""},t)return this.setData(t)}return Object(p.a)(e,[{key:"setData",value:function(e){this.buyer=e.buyer?e.buyer:this.buyer,this.ticket=e.ticket?e.ticket:this.ticket,this.event=e.event?e.event:this.event,this.numberOfTickets=e.numberOfTickets?e.numberOfTickets:this.numberOfTickets}}]),e}(),Dt=a(65),Ct=function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).searchUser=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.getBuyersList();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(){var e=Object(d.a)(o.a.mark((function e(t,a){var r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=t.split(".")).length>1)){e.next=4;break}return r[0]===s.m.SELECTED_SUB_ORGANISER&&((l=n.state.selectedSubOrganiser)[r[1]]=a,n.setState({selectedSubOrganiser:l})),e.abrupt("return");case 4:if(n.setState(Object(u.a)({},t,a)),"selectedUser"===t&&n.setState({openConfimation:!0}),!("selectedTab"===t||"sortingKey"===t&&n.state.buyers&&n.state.buyers.length)){e.next=16;break}return e.next=9,n.setState({skip:0});case 9:e.t0=n.state.selectedTab,e.next="USERS"===e.t0?12:"ADMINS"===e.t0?14:16;break;case 12:return n.getBuyersList(0),e.abrupt("break",16);case 14:return n.getSubOrganisers(0),e.abrupt("break",16);case 16:if("searchQuery"!==t){e.next=24;break}e.t1=n.state.selectedTab,e.next="USERS"===e.t1?20:"ADMINS"===e.t1?22:24;break;case 20:return setTimeout((function(){n.getBuyersList(n.state.skip,a)}),50),e.abrupt("break",24);case 22:return setTimeout((function(){n.getSubOrganisers(n.state.skip,a)}),50),e.abrupt("break",24);case 24:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.getListByPage=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),n.setState({skip:t*n.state.limit}),e.next=4,n.getBuyersList(t*n.state.limit);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getBuyersList=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,l,i,u,d,m,p,f,b,v,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),n.props.dispatchAction(s.l.SHOW_LOADER,!0),p=(null===(a=n.props.user)||void 0===a||null===(r=a.userDetails)||void 0===r?void 0:r.role)===s.h.ORGANISER?null===(l=n.props.user)||void 0===l||null===(i=l.userDetails)||void 0===i?void 0:i.userId:null===(u=n.props.user)||void 0===u||null===(d=u.userDetails)||void 0===d||null===(m=d.organization)||void 0===m?void 0:m.id,e.next=5,D.a.parseResponse(B(p,n.state.searchQuery,t,n.state.limit,n.state.sortingKey));case 5:if(f=e.sent,b=Object(c.a)(f,2),v=b[0],g=b[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),!v&&g&&g.data&&g.data.length){e.next=13;break}return n.setState({buyers:[],total:0,skip:0,loading:!1}),e.abrupt("return");case 13:n.setState({buyers:g.data.map((function(e){return new jt(e)})),total:g.total,loading:!1});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getSubOrganisers=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,l,i,u,d,m,p,f,b,v,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),n.props.dispatchAction(s.l.SHOW_LOADER,!0),p=(null===(a=n.props.user)||void 0===a||null===(r=a.userDetails)||void 0===r?void 0:r.role)===s.h.ORGANISER?null===(l=n.props.user)||void 0===l||null===(i=l.userDetails)||void 0===i?void 0:i.userId:null===(u=n.props.user)||void 0===u||null===(d=u.userDetails)||void 0===d||null===(m=d.organization)||void 0===m?void 0:m.id,e.next=5,D.a.parseResponse(Object(Dt.h)(p,t,n.state.limit,n.state.searchQuery,n.state.sortingKey));case 5:if(f=e.sent,b=Object(c.a)(f,2),v=b[0],g=b[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),!v&&g&&g.data&&g.data.length){e.next=13;break}return n.setState({buyers:[],total:0,skip:0,loading:!1}),e.abrupt("return");case 13:n.setState({admins:g.data.map((function(e){return new qe.a(e)})),total:g.total,loading:!1});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.blockUser=Object(d.a)(o.a.mark((function e(){var t,a,r,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.dispatchAction(s.l.SHOW_LOADER,!0),t={reportedBy:n.props.user.userDetails.userId,reportedUser:n.state.selectedUser._id},e.next=4,D.a.parseResponse($(t));case 4:if(a=e.sent,r=Object(c.a)(a,2),l=r[0],i=r[1],n.props.dispatchAction(s.l.HIDE_LOADER,i),!l){e.next=11;break}return e.abrupt("return");case 11:n.setState({openConfimation:!1}),n.componentDidMount();case 13:case"end":return e.stop()}}),e)}))),n.sortByName=function(e){n.setState({buyers:e})},n.deleteUser=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.dispatchAction(s.l.SHOW_LOADER,!0),e.next=3,D.a.parseResponse(Object(Dt.e)(t));case 3:if(a=e.sent,r=Object(c.a)(a,2),l=r[0],i=r[1],n.props.dispatchAction(s.l.HIDE_LOADER,i),!l){e.next=10;break}return e.abrupt("return");case 10:n.getSubOrganisers();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addAdminUser=Object(d.a)(o.a.mark((function e(){var t,a,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.dispatchAction(s.l.SHOW_LOADER,!0),e.next=3,D.a.parseResponse(Object(Dt.a)(Object(Nt.a)(Object(Nt.a)({},n.state.selectedSubOrganiser),{},{role:s.h.SUB_ORGANISER,organization:Object(Nt.a)(Object(Nt.a)({},n.props.user.userDetails.organization),{},{id:n.props.user.userDetails.userId}),addedBy:n.props.user.userDetails.userId})));case 3:if(t=e.sent,a=Object(c.a)(t,2),r=a[0],l=a[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),!r&&l){e.next=11;break}return D.a.apiFailureToast(r),e.abrupt("return");case 11:n.props.dispatchAction(s.l.USER_ADDED,l),n.setState({showEditAddModel:!1,successToast:!0}),n.getSubOrganisers();case 14:case"end":return e.stop()}}),e)}))),n.onEditClick=function(e){n.setState({showEditAddModel:!0,isEdit:!0}),"ADMIN"===n.state.selectedTab?n.setState({selectedSubOrganiser:Object(Nt.a)({},e)}):n.setState({selectedUser:Object(Nt.a)({},e)})},n.state={sortingKey:"",limit:5,total:0,buyers:[],admins:[],skip:0,searchQuery:"",openConfimation:!1,selectedTab:"USERS",selectedUser:{},selectedSubOrganiser:{},showEditAddModel:!1,loading:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getBuyersList()}},{key:"render",value:function(){var e;return r.a.createElement(Tt,{blockUser:this.blockUser,state:this.state,user:null===(e=this.props.user)||void 0===e?void 0:e.userDetails,handleChange:this.handleChange,searchUser:this.searchUser,deleteUser:this.deleteUser,onEditClick:this.onEditClick,getListByPage:this.getListByPage,sortByName:this.sortByName,addAdminUser:this.addAdminUser})}}]),a}(v.a),At=Object(j.b)((function(e){return{user:e.user}}),{dispatchAction:D.b})(Ct),Pt=a(841);function It(e){var t=e.headers,a=e.data,n=e.className,s=e.height;return r.a.createElement("div",{className:"rounded-xl bg-white drop-shadow-md pb-3.75 pt-3.75 mt-7.5 w-full"},r.a.createElement("table",{className:"w-full "+s},r.a.createElement("tbody",{className:" rounded-xl bg-white drop-shadow-md  w-full "},r.a.createElement("tr",{className:"h-19.75 w-full pl-7.5 pr-12.5 flex justify-between items-center border-b border-grey-50 font-OpenSansRegular text-left text-ft3 text-black-50 "},t.map((function(e,t){return r.a.createElement("td",{className:n+" font-OpenSansSemiBold text-ft3 text-black-50 ",key:t},e)}))),a.map((function(e,t){return r.a.createElement(Rt,{key:t,item:e,className:n})})))))}function Rt(e){var t=e.item,a=e.className;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"h-19.75 w-full pl-7.5 pr-12.5 flex justify-between items-center border-b border-grey-50 font-OpenSansRegular text-left text-ft3 text-black-50 "},Object.keys(t).map((function(e,n){return r.a.createElement("td",{className:a,key:n},"SOLD"===t[e]||"UNSOLD"===t[e]?function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}(t[e]):t[e])}))))}var Bt=function(e){var t,a=e.state,n=e.getListByPage;return r.a.createElement("div",{className:"px-12.5 pt-12.5 bg-Slate-200 pb-12.5"},r.a.createElement("div",null,r.a.createElement(et.c,{to:s.g.DASHBOARD},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23.66",height:"18.828",viewBox:"0 0 23.66 18.828"},r.a.createElement("path",{id:"ic-back-accntsettings",d:"M26.66,13H6.143M13,5,5,13l8,8",transform:"translate(-4 -3.586)",fill:"none",stroke:"#0d0f37","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"}))),r.a.createElement("h1",{className:"text-black-50 text-ft9 font-OpenSansSemiBold mt-6 "},null===(t=a.eventDetail)||void 0===t?void 0:t.name)),r.a.createElement("div",{className:"mt-10 flex justify-between gap-7"},r.a.createElement(w,{title:"Revenue",image:"/images/ic-dashboard-revenue.png",value:a.revenue?"$".concat(a.revenue):0,color:"text-blue-50"}),r.a.createElement(w,{title:"Tx Hash",image:"/images/ic-dashboard-totalAttendees.png",eventDetail:a.eventDetail,value:a.ticketSold}),r.a.createElement(w,{title:"Ticket Sold",image:"/images/ic-dashboard-ticketSold.png",value:a.ticketSold})),r.a.createElement("div",{className:"mt-10"},"Contibutors"),r.a.createElement(It,{headers:["Role","Percentage","Revenue"],data:null===a||void 0===a?void 0:a.contributorRevenue,className:"w-30per"}),r.a.createElement("div",{className:"mt-10"},"Sales by Ticket Type"),r.a.createElement(It,{headers:["Ticket Type","Price","Ticket Sold","Status","End Sales"],data:null===a||void 0===a?void 0:a.salesByTicketType,className:"w-20per"}),r.a.createElement("div",{className:"mt-10"},"Orders"),r.a.createElement(It,{headers:["Name","Email","Mobile Number","Ticket Type"],data:null===a||void 0===a?void 0:a.orders,className:"w-30per",height:"h-129.75"}),r.a.createElement(Se,{numberOfPages:Math.ceil(a.total/a.limit),currentPage:a.total?Math.round(a.total/a.limit)-Math.round((a.total-a.skip)/a.limit)+1:0,total:a.total,getListByPage:n})," ")},_t=function(){function e(t){if(Object(m.a)(this,e),this.name="",this.email="",this.phone="",this.ticketType="",t)return this.setData(t)}return Object(p.a)(e,[{key:"setData",value:function(e){this.name=e.buyer&&e.buyer.name?e.buyer.name:"",this.email=e.buyer&&e.buyer.email?e.buyer.email:"",this.phone=e.buyer&&e.buyer.phone?e.buyer.phone:"",this.ticketType=e.ticket&&e.ticket.type?e.ticket.type:""}}]),e}(),Lt=function(){function e(t){Object(m.a)(this,e),this.type="",this.price="",this.soldTickets="",this.status="",this.saleEndDate="",t&&this.setData(t)}return Object(p.a)(e,[{key:"setData",value:function(e){this.type=e.type?e.type:"",this.price=e.price?e.price:"",this.soldTickets=e.soldTickets?"".concat(e.soldTickets,"/").concat(e.totalTicket?e.totalTicket:0):"0/0",this.status=e.status?e.status:"",this.saleEndDate=e.saleEndDate?De()(e.saleEndDate).format("D/MM/YY HH:mm A"):""}}]),e}(),Ft=function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).getTicketAnalytics=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.dispatchAction(s.l.SHOW_LOADER,!0),e.next=3,D.a.parseResponse(G(t));case 3:if(a=e.sent,r=Object(c.a)(a,2),l=r[0],i=r[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),!l&&i){e.next=10;break}return e.abrupt("return");case 10:n.setState({ticketSold:i.soldTicket,attendees:i.attendees?i.attendees:0,revenue:i.totalRevenue});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getEventDetail=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.dispatchAction(s.l.SHOW_LOADER,!0),e.next=3,D.a.parseResponse(V(t));case 3:if(a=e.sent,r=Object(c.a)(a,2),l=r[0],i=r[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),!l&&i){e.next=10;break}return e.abrupt("return");case 10:n.setState({eventDetail:i});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getContributorRevenue=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.dispatchAction(s.l.SHOW_LOADER,!0),e.next=3,D.a.parseResponse(U(t));case 3:if(a=e.sent,r=Object(c.a)(a,2),l=r[0],i=r[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),!l&&i){e.next=11;break}return n.setState({contributorRevenue:[]}),e.abrupt("return");case 11:n.setState({contributorRevenue:i});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.salesByTicketType=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.dispatchAction(s.l.SHOW_LOADER,!0),e.next=3,D.a.parseResponse(H(t));case 3:if(a=e.sent,r=Object(c.a)(a,2),l=r[0],i=r[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),!l&&i){e.next=11;break}return n.setState({salesByTicketType:[]}),e.abrupt("return");case 11:n.setState({salesByTicketType:i.map((function(e){return new Lt(e)}))});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getListByPage=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({skip:t*n.state.limit}),e.next=3,n.getEvents(n.state.status,t*n.state.limit);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(){var e=Object(d.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState(Object(u.a)({},t,a)),"sortingKey"===t&&n.getEvents(n.state.skip);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.getOrders=function(){var e=Object(d.a)(o.a.mark((function e(t,a){var r,l,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.dispatchAction(s.l.SHOW_LOADER,!0),e.next=3,D.a.parseResponse(K(t,n.state.searchQuery,a||n.state.skip,n.state.limit,n.state.sortingKey));case 3:if(r=e.sent,l=Object(c.a)(r,2),i=l[0],u=l[1],n.props.dispatchAction(s.l.HIDE_LOADER,!0),!i&&u&&u.data&&u.data.length){e.next=11;break}return n.setState({orders:[],total:0,skip:0}),e.abrupt("return");case 11:n.setState({orders:u.data.map((function(e){return new _t(e)})),total:u.total});case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={contributorRevenue:[],orders:[],salesByTicketType:[],total:0,skip:0,limit:5,status:s.i.PUBLISHED,searchQuery:"",type:"",sortingKey:"",revenue:"",attendees:"",ticketSold:"",eventDetail:""},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=window.location.pathname;if(e.split("/").length<3)Ne.a.push(s.g.EVENTS);else{var t=e.split("/")[3];this.getEventDetail(t),this.getTicketAnalytics(t),this.getContributorRevenue(t),this.salesByTicketType(t),this.getOrders(t,this.state.skip)}}},{key:"render",value:function(){return r.a.createElement(Bt,{state:this.state,handleChange:this.handleChange,getListByPage:this.getListByPage})}}]),a}(v.a),Gt=Object(j.b)((function(e){return{user:e.user}}),{dispatchAction:D.b})(Ft);function Mt(e){var t,a,s,l,i=Object(n.useState)({mediaDownloadFailed:!1,mediaUrl:null,type:null}),u=Object(c.a)(i,2),m=u[0],p=u[1];Object(n.useEffect)((function(){f()}),[e.message]);var f=function(){var t=Object(d.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("media"!==e.message.type){t.next=3;break}return t.next=3,e.message.media.getContentTemporaryUrl().then((function(e){p(Object(Nt.a)(Object(Nt.a)({},m),{},{mediaUrl:e}))})).catch((function(e){return p(Object(Nt.a)(Object(Nt.a)({},m),{},{mediaDownloadFailed:!0}))}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=e.selectedChat&&e.selectedChat.users&&e.selectedChat.users.length?e.selectedChat.users.find((function(t){return t.identity!==e.identity})):{attributes:{friendlyName:"",profilePicImageUrl:""}},v="outgoing"===e.direction?"media"===e.message.type?"rounded-xl":"bg-blue-50 rounded-xl p-3.75":"media"===e.message.type?"rounded-xl":"bg-grey-100 rounded-xl p-3.75 ",g="outgoing"===e.direction?"flex mt-5 justify-end text-white pr-5 pl-5  font-OpenSansRegular text-ft3 gap-3.25":"flex mt-5 gap-3.25 pr-5  pl-5 flex-row-reverse justify-end\t";return r.a.createElement("div",{id:e.message.sid,className:g},r.a.createElement("div",{className:v},r.a.createElement("div",null,"media"===e.message.type&&r.a.createElement(Ut,{hasFailed:m.mediaDownloadFailed,url:m.mediaUrl})),e.message.body),r.a.createElement("div",{className:"w-10 h-10 flex rounded-50per overflow-hidden"},r.a.createElement("img",{className:"m-auto w-full h-full",src:"outgoing"===e.direction?null!==(t=null===e||void 0===e||null===(a=e.loggedInUser)||void 0===a?void 0:a.image)&&void 0!==t?t:"/images/ic-accountsettings.svg":(null===b||void 0===b||null===(s=b.attributes)||void 0===s?void 0:s.profilePicImageUrl)?null===b||void 0===b||null===(l=b.attributes)||void 0===l?void 0:l.profilePicImageUrl:"/images/ic-accountsettings.svg",alt:"logged-user"})))}function Ut(e){var t=e.hasFailed,a=e.url;return r.a.createElement("div",null,t&&r.a.createElement("div",null,r.a.createElement("p",null,"Failed to load media")),!t&&a&&r.a.createElement("div",{className:"flex gap-3.25 h-30"},r.a.createElement("img",{src:a})))}var zt=function(e){return r.a.createElement("div",{id:"messages",className:"overflow-auto h-100per",onScroll:e.getPreviousMessages},e.messages&&e.messages.length?e.messages.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(Mt,{selectedChat:e.selectedChat,loggedInUser:e.loggedInUser,key:t.index,direction:t.author===e.identity?"outgoing":"incoming",message:t,identity:e.identity,scrollToRequired:e.scrollToRequired,scrollIntoView:e.messages[e.messages.length-1].sid}))})):r.a.createElement("div",null))};function Ht(e){var t=e.state,a=e.deleteConversation,l=e.sendMessage,i=e.handleChange,o=e.loggedInUser,u=e.searchConversation,d=e.getMoreConversation,m=e.getPreviousMessages,p=Object(n.useState)(r.a.createElement(N.a,{color:"#395FF1"})),f=Object(c.a)(p,2),b=f[0],v=f[1];return Object(n.useEffect)((function(){setTimeout((function(){v("No Record Found")}),5e3)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"font-OpenSansSemiBold pl-12.5 pt-12.5 text-ft8"},"Messages"),r.a.createElement(Pt.Row,{className:"bg-Slate-200 pt-7.5 pl-12.5 pr-12.5 gap-6 h-screen",style:{paddingBottom:"90px"}},r.a.createElement(Pt.Column,{className:"bg-white gap-4 shadow-sidebar pt-8 pb-8 w-40per h-100per overflow-auto rounded-xl"},r.a.createElement(Yt,{searchConversation:u}),r.a.createElement("div",{onScroll:d,id:"infiniteScroll",className:"overflow-auto h-full"},r.a.createElement(Qt,{conversations:t.chats,handleChange:i,loggedInUser:o,identity:(null===o||void 0===o?void 0:o.role)===s.h.ORGANISER?o.userId:o.organization.id}))),r.a.createElement(Pt.Column,{className:"bg-white shadow-sidebar  justify-between w-60per h-100per rounded-xl "},t.selectedChat?r.a.createElement(Vt,{state:t,selectedChat:t.selectedChat,loggedInUser:o,getPreviousMessages:m,deleteConversation:function(){return a(t.selectedChat.connection,t.selectedIndex)},identity:(null===o||void 0===o?void 0:o.role)===s.h.ORGANISER?o.userId:o.organization.id}):r.a.createElement("div",{className:"noRecordFound mt-40"}," ",b),(null===t||void 0===t?void 0:t.selectedChat)&&r.a.createElement("div",{className:"flex items-center gap-3.25 p-6 "},r.a.createElement("div",{className:"rounded-xl h-11.25 w-11.25 bg-blue-50 text-white flex items-center justify-center"},r.a.createElement("label",{for:"select-media",className:"cursor-pointer"},r.a.createElement("img",{className:"w-4",src:"/images/ic-imageplaceholder.png",alt:"img-placeholder"})),r.a.createElement("input",{className:"hidden",type:"file",id:"select-media",onChange:function(e){return i("media",e.target.files[0])}})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l()},className:" h-11.25 flex justify-between rounded-xl px-5 items-center w-full bg-white border border-grey-200"},r.a.createElement("input",{type:"text",className:" focus:outline-none w-full",placeholder:"Type something here...",value:t.newMessage,onChange:function(e){return i("newMessage",e.target.value)}}),r.a.createElement("button",{className:"bg-blue-50 h-6 w-6 cursor-pointer border-none rounded-50per text-white flex items-center justify-center",type:"submit"},r.a.createElement("img",{alt:"",src:"/images/ic-send.svg",className:"transform"})))))))}function Yt(e){var t=e.searchConversation;return r.a.createElement("div",{className:" h-12.5 flex justify-between rounded-3xl px-5  ml-8 mr-8 items-center bg-white border border-grey-200"},r.a.createElement("input",{type:"text",className:"w-100per focus:outline-none",placeholder:"Search",onChange:function(e){return t(e.target.value)}}),r.a.createElement("img",{alt:"search",src:"/images/ic-search.svg",className:""}))}var Kt=(new Date).toDateString(),Wt=(new Date).toLocaleTimeString();function Vt(e){var t,a,n,s,l=e.selectedChat,c=e.deleteConversation,i=e.loggedInUser,o=e.identity,u=e.getPreviousMessages,d=e.state,m=l&&l.users&&l.users.length?l.users.find((function(e){return e.identity!==o})):{attributes:{friendlyName:"",profilePicImageUrl:""}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"flex justify-between p-6 "},r.a.createElement("div",{className:"flex items-center gap-2.5"},r.a.createElement("div",{className:"w-10 h-10 flex rounded-50per overflow-hidden"},r.a.createElement("img",{className:"m-auto h-full w-full",src:(null===m||void 0===m||null===(t=m.attributes)||void 0===t?void 0:t.profilePicImageUrl)?null===m||void 0===m||null===(a=m.attributes)||void 0===a?void 0:a.profilePicImageUrl:"/images/ic-accountsettings.svg",alt:"selected-user-profile"})),r.a.createElement("div",null,null!==(n=null===m||void 0===m||null===(s=m.attributes)||void 0===s?void 0:s.friendlyName)&&void 0!==n?n:"-")),r.a.createElement("img",{src:"/images/ic-delete.svg",alt:"delete",className:"cursor-pointer",onClick:function(){return c()}})),r.a.createElement("div",{className:"border border-0.25 border-grey-50 "}),r.a.createElement("div",{className:"text-ft1 text-Slate-350 flex justify-center pt-5"},Kt," ",Wt)),r.a.createElement(zt,{scrollToRequired:d.scrollToRequired,loggedInUser:i,identity:o,messages:l.messages,selectedChat:l,getPreviousMessages:u}))}function Qt(e){var t=e.conversations,a=e.handleChange,n=(e.loggedInUser,e.identity);return t&&t.map((function(e,t){var s,l,c,i,o,u,d=e.messages[e.messages.length-1],m=null!==(s=null===e||void 0===e||null===(l=e.users)||void 0===l?void 0:l.find((function(e){return e.identity!==n})))&&void 0!==s?s:{attributes:{friendlyName:"",attributes:{profilePicImageUrl:""}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:t,className:"hover:bg-Slate-100 w-full flex h-25",onClick:function(){!function(e,t){a("selectedChat",t),a("selectedIndex",e)}(t,e)}},r.a.createElement("div",{className:"m-auto w-full flex gap-4 ml-8 mr-8"},r.a.createElement(Pt.Column,null,r.a.createElement("div",{className:"w-15 h-15 flex rounded-50per overflow-hidden"},r.a.createElement("img",{className:"m-auto h-full w-full",src:(null===m||void 0===m||null===(c=m.attributes)||void 0===c?void 0:c.profilePicImageUrl)?null===m||void 0===m||null===(i=m.attributes)||void 0===i?void 0:i.profilePicImageUrl:"/images/ic-accountsettings.svg",alt:t}))),r.a.createElement("div",{className:"flex justify-between flex-col h-12.5"},r.a.createElement("span",{className:"text-left font-OpenSansSemiBold text-ft3 text-black-50 "},null!==(o=null===m||void 0===m||null===(u=m.attributes)||void 0===u?void 0:u.friendlyName)&&void 0!==o?o:"-"),r.a.createElement("div",{className:"font-OpenSans text-ft3 text-darkGrey-100"},d&&"media"===d.type?"media":d&&d.body&&d.body.slice(0,10))),r.a.createElement("span",{className:"text-left whitespace-nowrap font-OpenSansSemiBold text-ft2 text-darkGrey-50 ml-auto"},De()(d&&d.state&&d.state.timestamp).format("HH:mm A")))),r.a.createElement("div",{className:"border border-0.25 border-grey-50 "}))}))}var Jt=a(1224),qt=a(1421),$t=function(e){Object(f.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getToken()},n.getToken=Object(d.a)(o.a.mark((function e(){var t,a,r,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.props.user.twilioAccessToken)){e.next=7;break}if(!(Object(qt.a)(t).exp>Date.now()/1e3)){e.next=7;break}return n.setState({accessToken:t}),n.initConversations(t),e.abrupt("return");case 7:return e.next=9,D.a.parseResponse(Object(Dt.g)(n.props.user.userDetails.role===s.h.ORGANISER?n.props.user.userDetails.userId:n.props.user.userDetails.organization.id));case 9:if(a=e.sent,r=Object(c.a)(a,2),l=r[0],i=r[1],!l&&i){e.next=16;break}return n.setState({accessToken:""}),e.abrupt("return");case 16:n.props.dispatchAction(s.l.TWILIO_ACCESS_TOKEN,i),n.setState({accessToken:i}),n.initConversations(i);case 19:case"end":return e.stop()}}),e)}))),n.initConversations=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.dispatchAction(s.l.SHOW_LOADER,!0),e.prev=1,e.next=4,Jt.Client.create(t);case 4:return a=e.sent,window.conversationsClient=a,n.props.user.fcmToken&&a.setPushRegistrationId("fcm",n.props.user.fcmToken),e.next=9,n.setState({conversationsClient:a});case 9:return e.next=11,a.getSubscribedConversations();case 11:if(!(r=e.sent).items.length){e.next=16;break}return e.next=15,n.loadMessagesFor(r.items);case 15:n.setState({conversations:r.items,paginate:r});case 16:a.on("connectionStateChanged",(function(e){n.setState({status:e})})),a.on("conversationJoined",function(){var e=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.updateConversationList(t,r.items.length),e.next=3,n.loadMessagesFor(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.on("conversationLeft",function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({conversations:Object(l.a)(n.state.conversations.filter((function(e){return e!==t})))}),e.next=3,n.loadMessagesFor(Object(l.a)(n.state.conversations.filter((function(e){return e!==t}))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.on("tokenExpired",Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getToken();case 2:case"end":return e.stop()}}),e)})))),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),console.log(e.t0);case 25:n.props.dispatchAction(s.l.HIDE_LOADER,!0);case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}(),n.updateConversationList=function(e,t){return t&&-1!==n.state.conversations.findIndex((function(t){return t&&t.sid===e.sid}))?n.state.conversations:(n.setState({conversations:[].concat(Object(l.a)(n.state.conversations),[e])}),[].concat(Object(l.a)(n.state.conversations),[e]))},n.getMoreConversation=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=document.getElementById("infiniteScroll")).offsetHeight+t.scrollTop!==t.scrollHeight){e.next=10;break}if(!n.state.paginate.hasNextPage){e.next=10;break}return e.next=5,n.state.paginate.nextPage();case 5:if(!(a=e.sent).items.length){e.next=10;break}return e.next=9,n.loadMessagesFor(a.items);case 9:n.setState({conversations:[].concat(Object(l.a)(n.state.conversations),Object(l.a)(a.items)),paginate:a});case 10:case"end":return e.stop()}}),e)}))),n.getPreviousMessages=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementById("messages").scrollTop){e.next=9;break}if(!n.state.selectedChat.messagePaginator.hasPrevPage){e.next=7;break}return e.next=5,n.state.selectedChat.messagePaginator.prevPage();case 5:(t=e.sent).items.length&&((a=[].concat(Object(l.a)(n.state.selectedChat.messages),Object(l.a)(t.items))).sort((function(e,t){return e.index-t.index})),n.state.selectedChat.messages=a,n.state.selectedChat.messagePaginator=t,n.setState({scrollToRequired:!1,selectedChat:n.state.selectedChat}));case 7:e.next=10;break;case 9:n.setState({scrollToRequired:!0});case 10:case"end":return e.stop()}}),e)}))),n.handleChange=function(e,t){n.setState(Object(u.a)({},e,t))},n.deleteConversation=function(){var e=Object(d.a)(o.a.mark((function e(t,a){var r,s,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&t.sid){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,D.a.parseResponse(Object(Dt.d)(t.sid));case 5:if(r=e.sent,s=Object(c.a)(r,2),l=s[0],s[1]&&!l){e.next=12;break}return D.a.apiFailureToast("Failed to delete conversation"),e.abrupt("return");case 12:n.state.chatList.splice(a,1),n.setState({chats:n.state.chatList,chatList:n.state.chatList}),-1!==(i=n.state.conversations.findIndex((function(e){return e.sid===t.sid})))&&(n.state.conversations.splice(i,1),n.setState({conversation:n.state.conversations})),n.state.conversations.length?n.setState({selectedChat:n.state.conversations[0]}):n.setState({selectedChat:null}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,a){return e.apply(this,arguments)}}(),n.searchConversation=function(e){if(e){var t=n.state.chatList.filter((function(t){return t.users.find((function(t){return t.identity!==(n.props.user.userDetails.role===s.h.ORGANISER?n.props.user.userDetails.userId:n.props.user.userDetails.organization.id)&&String(t.friendlyName).toLowerCase().includes(e)}))}));n.setState({chats:t,selectedChat:t[0],selectedIndex:0})}else n.setState({chats:n.state.chatList,selectedChat:n.state.chatList[0],selectedIndex:0})},n.loadMessagesFor=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,s,l,c,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=t&&t.length?t:n.state.chats,a=!0,l=0;case 3:if(!(l<t.length)){e.next=24;break}return c=[],e.next=7,t[l].getParticipants();case 7:i=e.sent,u=0;case 9:if(!(u<i.length)){e.next=17;break}return e.next=12,t[l].getParticipantByIdentity(i[u].identity);case 12:r=e.sent,c.push(r);case 14:u++,e.next=9;break;case 17:return e.next=19,n.getMessages(t[l],l,c);case 19:s=e.sent,a&&(n.setState({selectedChat:s,selectedIndex:l}),a=!1);case 21:l++,e.next=3;break;case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getMessages=function(){var e=Object(d.a)(o.a.mark((function e(t,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({loading:!0}),t&&t.getMessages){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.getMessages(10).then((function(e){n.state.chats[a]={index:a,messages:e.items,connection:t,users:r,messagePaginator:e},n.setState({chats:n.state.chats,chatList:n.state.chats,loading:!1}),n.handleMessageChange(t,a)})).catch((function(e){console.error("Couldn't fetch messages IMPLEMENT RETRY",e),n.state.chats[a]={index:a,messages:[],connection:t,users:r},n.setState({chats:n.state.chats,chatList:n.state.chats,loading:!1})}));case 5:return e.abrupt("return",n.state.chats[a]);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.handleMessageChange=function(e,t){e.on("messageAdded",(function(e){n.state.chats[t].messages=[].concat(Object(l.a)(n.state.chats[t].messages),[e]),n.setState({chats:n.state.chats})}))},n.componentDidUpdate=function(e,t){n.state.selectedChat!==t.selectedChat&&n.getMessages(n.state.selectedChat,n.state.selectedIndex)},n.sendMessage=function(){var e=n.state.newMessage.trim();if(e&&(n.state.selectedChat.connection.sendMessage(e),n.setState({newMessage:""})),n.state.media){var t=new FormData;t.append("file",n.state.media),n.state.selectedChat.connection.sendMessage(t),n.setState({media:null})}},n.state={userDetails:{},accessToken:"",newMessage:"",status:"",conversationsClient:null,media:null,conversations:[],chats:[],chatList:[],selectedChat:null,selectedIndex:null,paginate:!1,scrollToRequired:!0,isLoading:!1,loading:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e;return D.a.checkPermission(s.a.MESSAGE,null===(e=this.props.user)||void 0===e?void 0:e.userDetails)||Ne.a.replace(s.g.USER_MANAGEMENT),r.a.createElement(Ht,{state:this.state,handleChange:this.handleChange,searchConversation:this.searchConversation,deleteConversation:this.deleteConversation,getMoreConversation:this.getMoreConversation,getPreviousMessages:this.getPreviousMessages,sendMessage:this.sendMessage,loggedInUser:this.props.user.userDetails})}}]),a}(v.a),Zt=Object(j.b)((function(e){return{user:e.user}}),{dispatchAction:D.b})($t);function Xt(e){var t=window.location.pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt.Row,{className:"w-100per"},r.a.createElement(Pt.Column,{className:"h-100per"},r.a.createElement(nt,null)),r.a.createElement(Pt.Column,{className:"w-100per h-100per"},r.a.createElement(Pt.Column,{className:"w-100per shadow-sidebar"},r.a.createElement(Ze,null)),r.a.createElement(Pt.Column,{className:"h-100per bg-Slate-200 flex flex-col min-h-screen shadow-sidebar"},t===s.g.DASHBOARD?r.a.createElement(ye,null):"",t===s.g.USER_MANAGEMENT?r.a.createElement(At,null):"",t===s.g.EVENTS?r.a.createElement(_e,null):"",t===s.g.ACCOUNT_SETTING?r.a.createElement(Oe.a,null):"",t===s.g.MESSAGE?r.a.createElement(Zt,null):"",t===s.g.CREATE_EVENT?r.a.createElement(xt,null):"",t.includes(s.g.EVENTS)&&4===t.split("/").length?r.a.createElement(Gt,null):""))))}a.d(t,"default",(function(){return Xt}))},664:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(4),r=a.n(n),s=a(12),l=a(7),c=a(30),i=a(31),o=a(795),u=a(39),d=a(73),m=a(65),p=function(){function e(){Object(c.a)(this,e),this.auth0=new o.a.WebAuth({domain:"https://nft-ticekting-dev.us.auth0.com",clientID:"WuRa325EuzmACga4KMuOyjaTbzeNwhMm",audience:"https://nft-ticekting-dev.us.auth0.com/api/v2/",redirectUri:"window.location.origin",scope:"openid profile email",responseType:"code token id_token",grantType:"password"})}return Object(i.a)(e,[{key:"signin",value:function(e,t){var a=this,n=this;return new Promise((function(c,i){a.auth0.client.login({realm:"Username-Password-Authentication",username:e,password:t},(function(e,t){if(e)return i(e);n.auth0.client.userInfo(t.accessToken,function(){var e=Object(l.a)(r.a.mark((function e(a,n){var l,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return",i(a));case 2:return l=n.sub.split("auth0|")[1],e.prev=3,e.next=6,Object(m.i)(l);case 6:if(o=e.sent){e.next=9;break}throw"User not found";case 9:c({accessToken:t.idToken,userDetails:new d.a(Object(s.a)(Object(s.a)({},o),{},{image:o.image?o.image:n.picture}))}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),i(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,a){return e.apply(this,arguments)}}())}))}))}},{key:"logout",value:function(){u.a.push("/")}}]),e}()}}]);
//# sourceMappingURL=7.fb7650fa.chunk.js.map